<!DOCTYPE html>
<html lang="en-US" prefix="og: http://ogp.me/ns#" class="no-js no-svg">

<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">

<script>(function(html){html.className = html.className.replace(/\bno-js\b/,'js')})(document.documentElement);</script>

<title>basondole.io &#8211; Professional network design and development</title>

<link rel="profile" href="http://gmpg.org/xfn/11">
<link rel='dns-prefetch' href='//www.google.com' />
<link rel='dns-prefetch' href='//fonts.googleapis.com' />
<link rel='dns-prefetch' href='//s.w.org' />
<link crossorigin="anonymous" rel='stylesheet' id='alia-fonts-css'  href='https://fonts.googleapis.com/css?family=Roboto%3A400%2C400i%2C700%2C700i%7CPoppins%3A400%2C400i%2C700%2C700i&#038;subset=latin%2Clatin-ext' type='text/css' media='all' />


<link rel='stylesheet' id='wp-block-library-css'  href='../../karneliuk/style.min.5.3.2.css' type='text/css' media='all' />
<link rel='stylesheet' id='github-embed-css'  href='../../karneliuk/github-embed.5.3.2.css' type='text/css' media='all' />
<link rel='stylesheet' id='responsive-lightbox-swipebox-css'  href='../../karneliuk/swipebox.min.2.2.2.css' type='text/css' media='all' />
<link rel='stylesheet' id='alia-style-css'  href='../../karneliuk/alia.style.1.35.css' type='text/css' media='all' />
<link rel='stylesheet' id='fontawesome-css'  href='../../karneliuk/all.min.1.0.css' type='text/css' media='all' />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<link rel='stylesheet' id='codecolorer-css'  href='../../karneliuk/codecolorer.0.9.16.css' type='text/css' media='screen' />
<link rel="stylesheet" href="../../css/style1.css" />



<link rel='https://api.w.org/' href='../../karneliuk/wp-json' />


<script type='text/javascript' src='../../karneliuk/jquery-1.12.4-wp.js' class="local-root-js"></script>
<script type='text/javascript' src='../../karneliuk/jquery-migrate.min-1.4.1.js' class="local-root-js"></script>
<script type='text/javascript' src='../../karneliuk/ouibounce-5.3.2.js' class="local-root-js"></script>


<script type="text/javascript">
  window._wpemojiSettings = {"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/12.0.0-1\/72x72\/","ext":".png","svgUrl":"https:\/\/s.w.org\/images\/core\/emoji\/12.0.0-1\/svg\/","svgExt":".svg","source":{"concatemoji":"karneliuk/wp-emoji-release.min.5.3.2.js"}};
  !function(e,a,t){var r,n,o,i,p=a.createElement("canvas"),s=p.getContext&&p.getContext("2d");function c(e,t){var a=String.fromCharCode;s.clearRect(0,0,p.width,p.height),s.fillText(a.apply(this,e),0,0);var r=p.toDataURL();return s.clearRect(0,0,p.width,p.height),s.fillText(a.apply(this,t),0,0),r===p.toDataURL()}function l(e){if(!s||!s.fillText)return!1;switch(s.textBaseline="top",s.font="600 32px Arial",e){case"flag":return!c([127987,65039,8205,9895,65039],[127987,65039,8203,9895,65039])&&(!c([55356,56826,55356,56819],[55356,56826,8203,55356,56819])&&!c([55356,57332,56128,56423,56128,56418,56128,56421,56128,56430,56128,56423,56128,56447],[55356,57332,8203,56128,56423,8203,56128,56418,8203,56128,56421,8203,56128,56430,8203,56128,56423,8203,56128,56447]));case"emoji":return!c([55357,56424,55356,57342,8205,55358,56605,8205,55357,56424,55356,57340],[55357,56424,55356,57342,8203,55358,56605,8203,55357,56424,55356,57340])}return!1}function d(e){var t=a.createElement("script");t.src=e,t.defer=t.type="text/javascript",a.getElementsByTagName("head")[0].appendChild(t)}for(i=Array("flag","emoji"),t.supports={everything:!0,everythingExceptFlag:!0},o=0;o<i.length;o++)t.supports[i[o]]=l(i[o]),t.supports.everything=t.supports.everything&&t.supports[i[o]],"flag"!==i[o]&&(t.supports.everythingExceptFlag=t.supports.everythingExceptFlag&&t.supports[i[o]]);t.supports.everythingExceptFlag=t.supports.everythingExceptFlag&&!t.supports.flag,t.DOMReady=!1,t.readyCallback=function(){t.DOMReady=!0},t.supports.everything||(n=function(){t.readyCallback()},a.addEventListener?(a.addEventListener("DOMContentLoaded",n,!1),e.addEventListener("load",n,!1)):(e.attachEvent("onload",n),a.attachEvent("onreadystatechange",function(){"complete"===a.readyState&&t.readyCallback()})),(r=t.source||{}).concatemoji?d(r.concatemoji):r.wpemoji&&r.twemoji&&(d(r.twemoji),d(r.wpemoji)))}(window,document,window._wpemojiSettings);
</script>



<meta name="generator" content="WordPress 5.3.2" />

</head>









<body class="home blog sticky_header header_logo_rounded text_posts_unbordered masonry_effect_enabled show_menu_circle_idicator sliding_sidebar_inactive">

<div id="page" class="site">

  <div class="site_main_container">

    <header class="site_header">
      
    <div class="gray_header" style="background-image: url('img/Multivendor_pale.png');" >
      <div class="container site_header">
        <div class="header_square_logo">
          <style>.site_logo_image { width : 120px; }.site_logo_image { height : 120px; }</style>
          <a class="alia_logo retina_logo" title="basondole.io" href="index.html" rel="home">
            <img  width=120 height=120 src="../../img/all-baggy.jpg" class="site_logo img-responsive site_logo_image clearfix" alt="basondole.github.io" /></a>
    
          <a class="alia_logo default_logo  has_retina_logo" title="basondole.io" href="index.html" rel="home">
          <img  width=120 height=120 src="../../img/all-baggy.jpg" class="site_logo img-responsive site_logo_image clearfix" alt="basondole.github.io" /></a>

          <h1 class="screen-reader-text site_logo site-title clearfix">basondole.io</h1>

        </div>

        <div class="header_tagline">
          Network design, development and automation for enterprise and service provider fabrics.
        </div>

        <div class="social_icons_list header_social_icons">
          <a rel="nofollow" target="" href="https://twitter.com/misterbigpaul" title="Twitter" class="social_icon widget_social_icon social_twitter social_icon_twitter"><i class="fa fa-twitter"></i></a>
          <a rel="nofollow" target="_blank" href="https://www.linkedin.com/in/paul-i-2b3013108" title="Linked In" class="social_icon widget_social_icon social_linkedin social_icon_linkedin"><i class="fa fa-linkedin"></i></a>
          <a rel="nofollow" target="_blank" href="https://github.com/basondole" title="Github" class="social_icon widget_social_icon social_github social_icon_github"><i class="fa fa-github"></i></a>

          <a rel="nofollow" target="_blank" href="https://stackoverflow.com/users/12078639/bassosimons" title="stackoverflow" class="social_icon widget_social_icon"><i class="fa fa-rss"></i></a>

        </div>
      </div>

    </div>
        
    <div class="header_nav_wrapper">

      <div class="header_nav">

        <div class="container">
          <div class="site_branding">
          <h1 class="text_logo"><a href="index.html" rel="home">basondole.io<span class="logo_dot"></span></a></h1>
          </div>
          

          <!-- Place header control before main menu if site title is enabled -->
          <div class="header_controls">

            <div class="header_sliding_sidebar_control header_control_wrapper">
              <a id="user_control_icon" class="sliding_sidebar_button" href="#">
                <i class="fa fa-bars header_control_icon"></i>
              </a>
            </div>
        
          </div>
    

          <div class="main_menu">
            <ul id="top-menu" class="navbar">
              <li id="menu-item-318" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-318 default_menu"><a href="index.html" class="local-root-page">Home</a></li>
              
              <li id="menu-item-320" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-has-children menu-item-320 dropdown default_menu current-menu-item current_page_item active"><a href="../../blog.html" data-hover="dropdown" class="dropdown-toggle" class="local-root-page">Blog</a>
                <ul role="menu" class=" dropdown-menu">
                  <li id="menu-item-424" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-424 default_menu"><a href="index.html">Collaboration</a></li>
                  <li id="menu-item-3124" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-3124 default_menu"><a href="../networkauto/index.html">Network Automation</a></li>
                  <li id="menu-item-425" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-425 default_menu"><a href="">Tools</a></li>
                  <li id="menu-item-425" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-425 default_menu"><a href="index.html">Misc</a></li>
                </ul>
              </li>
              <li id="menu-item-2056" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2056 default_menu"><a href="bgp.html" class="local-root-page">BGP</a></li>
              <li id="menu-item-413" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-413 default_menu"><a href="about.html" class="local-root-page">About</a></li>
              
              
            </ul>
            <span class="menu_mark_circle hidden_mark_circle"></span>
          </div>
              
        <!-- Place header control after main menu if site title is enabled -->
          
        </div><!-- end .container -->
      </div><!-- end .header_nav -->
    </div><!-- end .header_nav_wrapper -->
    </header>

    <main id="content" class="site-content">
      <section id="primary" class="container main_content_area">
        <!-- end check for post layout -->
        <div class="row full_width_page_single no_sidebar_post_single">
          <div>
            <!-- <article id="post-182" class="blog_page_container post-182 page type-page status-publish"> -->

              <div class="page_body">
                    <div class="post_info_wrapper">
                      <div class="entry-content blog_page_text blog_page_description">



<!-- ============================ START CONTENT ============================================ -->
<h1 id="control-plane-policing" style="text-align: center;">
  <strong>Control Plane policing</strong>
</h1>
<p>Control plane policing is used to control traffic destined to the control plane of the router. This reduces strain on our routers CPU by controlling the traffic destined for the router itself.</p>
<h2 id="configuring-control-plane-policing-on-cisco-ios">Configuring Control Plane Policing on Cisco IOS</h2>
<p>Configuration of the control plane policing takes a modular approach as described below</p>
<ol>
<li><p>Constructing the CoPP Policy 
We use access-list to match the traffic of interest then we create a class-map that matches the access-list and finally we create a class-map to tie them together.
In summary:</p>
<ul>
<li>access-list to match the traffic</li>
<li>class-map to match the ACL</li>
<li>policy-map to police the class-maps</li>
</ul>
</li>
<li><p>Deploying the CoPP Policy</p>
</li>
<li><p>Verifying the CoPP Policy</p>
</li>
</ol>
<h2 id="configuration-sample">Configuration Sample</h2>
<h3 id="constructing-the-copp-policy">Constructing the CoPP Policy</h3>
<p>Identify what we want to control </p>
<ul>
<li>Allow trusted sources  <ul>
<li>This is for all the trusted IPs that are allowed total control to the device</em></li>
</ul>
</li>
<li>Remote access control  <ul>
<li>This is for what is allowed to access thee vty lines</em>  </li>
</ul>
</li>
<li>BGP control  <ul>
<li>This is for what is allowed to form BGP sessions with the device</em></li>
</ul>
</li>
<li>SNMP control  <ul>
<li>This is for what can perform SNMP operations on the device</em></li>
</ul>
</li>
<li>ICMP rate limiting<ul>
<li>This is to limit the ICMP traffic destined to the device</em></li>
</ul>
</li>
<li>BFD control<ul>
<li>This specifies what is allowed to form BFD neighborship with the device</em></li>
</ul>
</li>
<li>LDP control<ul>
<li>This specifies what is allowed to form LDP session with the device</em></li>
</ul>
</li>
<li>DNS control<ul>
<li>This specifies what is allowed to send DNS requests to/from the device</em></li>
</ul>
</li>
<li>RIP control<ul>
<li>This specifies what is allowed to run RIP with the device</em></li>
</ul>
</li>
<li>OSPF control<ul>
<li>This specifies what is allowed to run OSPF with the device</em></li>
</ul>
</li>
<li>NTP control<ul>
<li>This specifies what is allowed to be used for NTP</em></li>
</ul>
</li>
<li>GRE control<ul>
<li>This specifies what is allowed to form GRE tunnels with the device</em></li>
</ul>
</li>
<li>PIM control<ul>
<li>This specifies what is allowed to run PIM with the device</em></li>
</ul>
</li>
<li>IGMP control<ul>
<li>This specifies what is allowed to run IGMP with the device</em></li>
</ul>
</li>
<li>Explicit block<ul>
<li>This block everything else that is did not match the above and may not be required depending on your design</em></li>
</ul>
</li>
</ul>
<p>Allow trusted source</p>
<pre>
ip access-list standard CoPP-ACL-match-trusted-hosts
    permit host 10.21.41.13

class-map match-all CoPP-CLASS-allow-trusted-hosts
    match access-group name CoPP-ACL-match-trusted-hosts

policy-map CoPP-POLICY-protect-routing-engine
  class CoPP-CLASS-allow-trusted-hosts
</pre>

<p>Controlling remote-access only from specified ip blocks</p>
<pre>
ip access-list extended CoPP-ACL-match-telnet  
    permit tcp host 172.18.162.94 any eq telnet
ip access-list extended CoPP-ACL-match-ssh
    permit tcp host 172.18.162.94 any eq 22
    permit tcp 10.62.4.16 0.0.0.15 any eq 22
ip access-list extended CoPP-ACL-match-http
    permit tcp 10.62.4.16 0.0.0.15 any eq www
ip access-list extended CoPP-ACL-match-https
    permit tcp 10.62.4.16 0.0.0.15 any eq 443

ip access-list extended CoPP-ACL-match-telnet-ssh-http    
    permit tcp any any eq 22
    permit tcp any any eq telnet
    permit tcp any any eq www
    permit tcp any any eq 443

class-map match-any CoPP-CLASS-allow-remote-access
    match access-group name CoPP-ACL-match-telnet
    match access-group name CoPP-ACL-match-ssh
    match access-group name CoPP-ACL-match-http    
    match access-group name CoPP-ACL-match-https

class-map match-all CoPP-CLASS-deny-unknown-remote-access
    match access-group name CoPP-ACL-match-telnet-ssh-http

policy-map CoPP-POLICY-protect-routing-engine
  class CoPP-CLASS-allow-remote-access
  class CoPP-CLASS-deny-unknown-remote-access
     police 8000 conform-action drop  exceed-action drop  violate-action drop
</pre>

<p>Controlling networks allowed to form BGP session  </p>
<pre>
ip access-list extended CoPP-ACL-match-bgp     
    permit tcp 10.0.0.0 0.255.255.255 gt 1024 any eq bgp
    permit tcp 10.0.0.0 0.255.255.255 eq bgp any gt 1024 established
    permit tcp 172.16.0.0 0.0.15.255 any eq bgp
    permit tcp 172.16.0.0 0.0.15.255 eq bgp any gt 1024 established

class-map match-all CoPP-CLASS-allow-bgp
    match access-group name CoPP-ACL-match-bgp

policy-map CoPP-POLICY-protect-routing-engine
  class CoPP-CLASS-allow-bgp

</pre>

<p>Controlling SNMP access to the device  </p>
<pre>
ip access-list extended CoPP-ACL-match-snmp
    permit udp 10.62.4.16 0.0.0.15 any eq snmp

class-map match-all CoPP-CLASS-allow-snmp
    match access-group name CoPP-ACL-match-snmp

policy-map CoPP-POLICY-protect-routing-engine
  class CoPP-CLASS-allow-snmp
</pre>

<p>Limiting ICMP traffic to 1Mbps</p>
<pre>
ip access-list extended CoPP-ACL-match-icmp    
    permit icmp any any

class-map match-all CoPP-CLASS-allow-icmp
    match access-group name CoPP-ACL-match-icmp

policy-map CoPP-POLICY-protect-routing-engine
  class CoPP-CLASS-allow-icmp
     police 1000000 conform-action transmit  exceed-action drop  violate-action drop    
</pre>

<p>Controlling networks allowed to form BFD</p>
<pre>
ip access-list extended CoPP-ACL-match-bfd
    permit udp any any eq 3784 

class-map match-all CoPP-CLASS-allow-bfd
    match access-group name CoPP-ACL-match-bfd

policy-map CoPP-POLICY-protect-routing-engine
  class CoPP-CLASS-allow-bfd
</pre>

<p>Controlling networks allowed to form LDP sessions</p>
<pre>
ip access-list extended CoPP-ACL-match-ldp    
    permit udp 10.188.128.0 0.0.1.255 any eq 646
    permit tcp 10.188.128.0 0.0.1.255 any eq 646
    permit tcp 10.188.128.0 0.0.1.255 eq 646 any established
    permit udp 172.16.0.0 0.0.3.255 any eq 646
    permit tcp 172.16.0.0 0.0.3.255 any eq 646
    permit tcp 172.16.0.0 0.0.3.255 eq 646 any established

class-map match-all CoPP-CLASS-allow-ldp
    match access-group name CoPP-ACL-match-ldp

policy-map CoPP-POLICY-protect-routing-engine
  class CoPP-CLASS-allow-ldp
</pre>

<p>Controlling NTP</p>
<pre>
ip access-list extended CoPP-ACL-match-ntp    
    permit udp host 192.168.41.9 any eq ntp     
class-map match-all CoPP-CLASS-allow-ntp
    match access-group name CoPP-ACL-match-ntp
policy-map CoPP-POLICY-protect-routing-engine
  class CoPP-CLASS-allow-ntp
</pre>

<p>Controlling DNS</p>
<pre>
ip access-list extended CoPP-ACL-match-dns    
    permit udp host 192.168.1.101 eq domain any
    permit udp host 192.168.2.100 eq domain any
class-map match-all CoPP-CLASS-allow-dns
    match access-group name CoPP-ACL-match-dns
policy-map CoPP-POLICY-protect-routing-engine
  class CoPP-CLASS-allow-dns
</pre>

<p>Controlling RIP</p>
<pre>
ip access-list extended CoPP-ACL-match-rip    
    permit udp any any eq rip
class-map match-all CoPP-CLASS-allow-rip    
    match access-group name CoPP-ACL-match-rip
policy-map CoPP-POLICY-protect-routing-engine
  class CoPP-CLASS-allow-rip
</pre>

<p>Controlling OSPF</p>
<pre>
ip access-list extended CoPP-ACL-match-ospf
    permit ospf any any
class-map CoPP-CLASS-allow-ospf
    match access-group name CoPP-ACL-match-ospf
policy-map CoPP-POLICY-protect-routing-engine
  class CoPP-CLASS-allow-ospf
</pre>

<p>Controlling IGMP</p>
<pre>
ip access-list extended CoPP-ACL-match-igmp
    permit igmp any any
class-map CoPP-CLASS -igmp
    match access-group name CoPP-ACL-match-igmp
policy-map CoPP-POLICY-protect-routing-engine
  class CoPP-CLASS-igmp
    police 8000 conform-action drop  exceed-action drop  violate-action drop
</pre>

<p>Controlling GRE</p>
<pre>
ip access-list extended CoPP-ACL-match-gre
    permit gre any any
class-map match-any CoPP-CLASS-allow-gre
    match access-gro name CoPP-ACL-match-gre
policy-map CoPP-POLICY-protect-routing-engine
  class CoPP-CLASS-allow-gre
</pre>

<p>Controlling PIM</p>
<pre>
ip access-list extended CoPP-ACL-match-pim
 permit pim any any
class-map match-any CoPP-CLASS-pim
 match access-group name CoPP-ACL-match-pim
policy-map CoPP-POLICY-protect-routing-engine
  class CoPP-CLASS-pim
    police 8000 conform-action drop  exceed-action drop  violate-action drop
</pre>

<p>Block everything else  </p>
<pre>
ip access-list extended CoPP-ACL-match-tcp-udp-ip-icmp-garbage
    permit tcp any any
    permit udp any any
    permit ip any any
    permit icmp any any
ip access-list standard CoPP-ACL-match-any-unauthorized-source
  permit any

class-map match-any CoPP-CLASS-drop
    match access-group name CoPP-ACL-match-tcp-udp-ip-icmp-garbage
    match access-group name CoPP-ACL-match-any-unauthorized-source

policy-map CoPP-POLICY-protect-routing-engine
    class CoPP-CLASS-drop
        police 8000 conform-action drop  exceed-action drop  violate-action drop
</pre>


<h2 id="deploying-the-policy-map">Deploying the policy map</h2>
<p>Use below command to apply the created policy map to the control plane</p>
<pre>
control-plane
    service-policy input CoPP-POLICY-protect-routing-engine
</pre>

<h3 id="verifying-the-copp-policy">Verifying the CoPP Policy</h3>
<p>To verify run the command
<code>show policy-map control-plane</code></p>
<p>You can also hone in to look at a specific class in the policy map by specifying the class name<br><code>show policy-map control-plane input class class-name</code></p>
<h3 id="testing">Testing</h3>
<p>A hacker tries to access the router via telnet and they get blocked</p>
<pre>
hacker#telnet 41.188.128.46
Trying 41.188.128.46 ... 
% Connection timed out; remote host not responding

hacker#telnet 41.188.128.46
Trying 41.188.128.46 ... 
% Connection timed out; remote host not responding
</pre>

<p>To verify the action taken by the router</p>
<pre>
show policy-map control-plane input class CoPP-CLASS-deny-vty
 Control Plane 
  Service-policy input: CoPP-POLICY-protect-routing-engine
    Class-map: CoPP-CLASS-deny-vty (match-any)  
      4 packets, 256 bytes
      5 minute offered rate 0000 bps, drop rate 0000 bps
      Match: access-group name CoPP-ACL-match-telnet-ssh-http
        4 packets, 256 bytes
        5 minute rate 0 bps
      police:
          cir 8000 bps, bc 1500 bytes, be 1500 bytes
        <b>conformed 4 packets, 256 bytes; actions:
          Drop</b> 
        exceeded 0 packets, 0 bytes; actions:
          drop 
        violated 0 packets, 0 bytes; actions:
          drop 
        conformed 0000 bps, exceeded 0000 bps, violated 0000 bps
</pre>

<!-- END OF POST -->

                      </div>
                    </div>
                    <!-- end post_info_wrapper -->
                  </div>
                  <!-- end post_body -->

                </article>

<!-- ============================ END CONTENT ============================================ -->

                <div class="author_info_container author_single_box">
                  <div class="row">
                    <div class="author_avatar_col col">
                      <a class="author_avatar_url" href="about"><img alt='' src='../../img/all-baggy.jpg' srcset='../../img/all-baggy.jpg' class='avatar avatar-150 photo' height='150' width='150' /></a>
                    </div>
                    <div class="author_info_col col">
                      <div class="author_box_info_header">
                        <h2 class="author_display_name title">
                          <a class="author_name_url url fn n" href="">Paul S.I. Basondole </a>
                        </h2>

                      </div>
                      <div class="author_description">
IT &amp; Network Expert / Lead <br>
Network & Automation designer; <br>
2x JNCIP (RS/SP) 1x CCNP (RS) <br>
BSc Telecommunications Eng.
                      </div>
                      <div class="stories_circles_wrapper"></div>
                    </div>
                  </div>
                </div>
              </div>
              <!-- close col12 just inside .full_width_list -->
            </div>
            <!-- close .full_width_list -->
            <!-- close col and row in case of sidebar layout -->
            <!-- end check for post layout -->
          </section>
          <!-- #primary -->
        </main>
        <!-- #content -->
        <footer id="colophon" class="site_footer container" role="contentinfo">
          <div class="footer_credits footers_active_sidebars_0">
            &copy; 2019 basondole.io
          </div>
          <div id="aliagototop" title="Scroll To Top" class="alia_gototop_button footer_button">
            <i class="fa fa-arrow-up"></i>
          </div>
        </footer>

        <!-- #colophon -->
      </div>
      <!-- .site_main_container -->
      <!-- start sliding sidebar content -->
     <!-- .site_main_container -->
      <!-- start sliding sidebar content -->
      <div class="sliding_close_helper_overlay"></div>
      <div class="site_side_container">
        <h3 class="screen-reader-text">
          Sliding Sidebar
        </h3>
        <div class="info_sidebar">
          <div class="top_header_items_holder mobile_menu_opened">
            <div class="main_menu">
              <ul id="mobile-menu" class="navbar">
                <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-318 default_menu">
                  <a href="index.html" class="local-root-page">Home</a>
                </li>
                <li id="menu-item-2056" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2056 default_menu">
                  <a href="blog.html" data-hover="dropdown" class="dropdown-toggle" class="local-root-page">Blog</a>
                  
                </li>
                <li id="menu-item-2056" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2056 default_menu"><a href="bgp.html" class="local-root-page">BGP</a></li>
                <li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-413 default_menu current-menu-item current_page_item active">
                  <a href="about.html" class="local-root-page">About</a>
                </li>
                
                
                </li>
              </ul>
            </div>
          </div>
          <!-- end .top_header_items_holder -->
        </div>
      </div>
      <!-- end sliding sidebar content -->
      <!-- start footer static content -->
      <!-- start footer static content -->
    </div>
    <!-- #page -->
    <div id="ajax_modal_story" class="ajax_modal ajax_modal_story modal enable_rotate">
      <div class="story_modal_overlay_helper"></div>
    </div>


    </script>

    <script type='text/javascript' src='../../karneliuk/global.1.35.js' class="local-root-js"></script>


    <script type='text/javascript'>
/* <![CDATA[ */
var alia_core_vars = { "ajax_load_story": "http:\/\/karneliuk.com\/wp-content\/plugins\/alia-core\/ajax-load-story.php", "ajax_rotate_story": "http:\/\/karneliuk.com\/wp-content\/plugins\/alia-core\/ajax-rotate-story.php" };
/* ]]> */
    </script>


    <script type='text/javascript' src='../../karneliuk/alia-core.1.13.js' class="local-root-js"></script>
    <script type='text/javascript' src='../../karneliuk/wp-embed.min.5.3.2.js' class="local-root-js"></script>

    
<script type="text/javascript">
  // edit the level variable, the load the page and copy the loaded DOM, NOT the source
  // to get updated paths throughout the dom
  
  var 
  localPagesFiles = document.getElementsByClassName("local-root-page"),
  localJsFiles = document.getElementsByClassName("local-root-js"),
  localCssFiles = document.getElementsByClassName("local-root-css"),
  localImagesFiles = document.getElementsByClassName("local-root-image");

  var level = "../../";

  function updatePaths() { 
    for (var i=0; i<localPagesFiles.length; i++) {
          var path = level + localPagesFiles[i].getAttribute("href");
          localPagesFiles[i].setAttribute("href",path);
          console.log(localPagesFiles[i].getAttribute("href"));
    }

    for (var i=0; i<localJsFiles.length; i++) {
          var path = level + localJsFiles[i].getAttribute("src");
          localJsFiles[i].setAttribute("src",path);
          console.log(localJsFiles[i].getAttribute("src"));
    }

    for (var i=0; i<localCssFiles.length; i++) {
          var path = level + localCssFiles[i].getAttribute("src");
          localCssFiles[i].setAttribute("src",path);
          // console.log(localJsFiles[i].getAttribute("src"));
    }

    for (var i=0; i<localImagesFiles.length; i++) {
          var path = level + localImagesFiles[i].getAttribute("src");
          localImagesFiles[i].setAttribute("src",path);
          // console.log(localJsFiles[i].getAttribute("src"));
    }
  }

  window.onload = function () {
   updatePaths();
  };

</script>

<script type="text/javascript">
  var localPagesFiles = document.getElementsByClassName("local-root-page");
function printId(event) {
  var myId = this.Id;
  console.log(myId);
}
for (var i=0; i<localPagesFiles.length; i++) {
       localPagesFiles[i].addEventListener("click",printId);
}
</script>




  </body>
</html>
