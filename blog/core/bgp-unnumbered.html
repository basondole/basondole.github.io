<!DOCTYPE html>
<html lang="en-US" prefix="og: http://ogp.me/ns#" class="no-js no-svg">

<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">

<script>(function(html){html.className = html.className.replace(/\bno-js\b/,'js')})(document.documentElement);</script>

<title>basondole.io &#8211; Professional network design and development</title>

<link rel="profile" href="http://gmpg.org/xfn/11">
<link rel='dns-prefetch' href='//www.google.com' />
<link rel='dns-prefetch' href='//fonts.googleapis.com' />
<link rel='dns-prefetch' href='//s.w.org' />
<link crossorigin="anonymous" rel='stylesheet' id='alia-fonts-css'  href='https://fonts.googleapis.com/css?family=Roboto%3A400%2C400i%2C700%2C700i%7CPoppins%3A400%2C400i%2C700%2C700i&#038;subset=latin%2Clatin-ext' type='text/css' media='all' />


<link rel='stylesheet' id='wp-block-library-css'  href='../../karneliuk/style.min.5.3.2.css' type='text/css' media='all' />
<link rel='stylesheet' id='github-embed-css'  href='../../karneliuk/github-embed.5.3.2.css' type='text/css' media='all' />
<link rel='stylesheet' id='responsive-lightbox-swipebox-css'  href='../../karneliuk/swipebox.min.2.2.2.css' type='text/css' media='all' />
<link rel='stylesheet' id='alia-style-css'  href='../../karneliuk/alia.style.1.35.css' type='text/css' media='all' />
<link rel='stylesheet' id='fontawesome-css'  href='../../karneliuk/all.min.1.0.css' type='text/css' media='all' />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<link rel='stylesheet' id='codecolorer-css'  href='../../karneliuk/codecolorer.0.9.16.css' type='text/css' media='screen' />
<link rel="stylesheet" href="../../css/style1.css" />



<link rel='https://api.w.org/' href='../../karneliuk/wp-json' />


<script type='text/javascript' src='../../karneliuk/jquery-1.12.4-wp.js' class="local-root-js"></script>
<script type='text/javascript' src='../../karneliuk/jquery-migrate.min-1.4.1.js' class="local-root-js"></script>
<script type='text/javascript' src='../../karneliuk/ouibounce-5.3.2.js' class="local-root-js"></script>


<script type="text/javascript">
  window._wpemojiSettings = {"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/12.0.0-1\/72x72\/","ext":".png","svgUrl":"https:\/\/s.w.org\/images\/core\/emoji\/12.0.0-1\/svg\/","svgExt":".svg","source":{"concatemoji":"karneliuk/wp-emoji-release.min.5.3.2.js"}};
  !function(e,a,t){var r,n,o,i,p=a.createElement("canvas"),s=p.getContext&&p.getContext("2d");function c(e,t){var a=String.fromCharCode;s.clearRect(0,0,p.width,p.height),s.fillText(a.apply(this,e),0,0);var r=p.toDataURL();return s.clearRect(0,0,p.width,p.height),s.fillText(a.apply(this,t),0,0),r===p.toDataURL()}function l(e){if(!s||!s.fillText)return!1;switch(s.textBaseline="top",s.font="600 32px Arial",e){case"flag":return!c([127987,65039,8205,9895,65039],[127987,65039,8203,9895,65039])&&(!c([55356,56826,55356,56819],[55356,56826,8203,55356,56819])&&!c([55356,57332,56128,56423,56128,56418,56128,56421,56128,56430,56128,56423,56128,56447],[55356,57332,8203,56128,56423,8203,56128,56418,8203,56128,56421,8203,56128,56430,8203,56128,56423,8203,56128,56447]));case"emoji":return!c([55357,56424,55356,57342,8205,55358,56605,8205,55357,56424,55356,57340],[55357,56424,55356,57342,8203,55358,56605,8203,55357,56424,55356,57340])}return!1}function d(e){var t=a.createElement("script");t.src=e,t.defer=t.type="text/javascript",a.getElementsByTagName("head")[0].appendChild(t)}for(i=Array("flag","emoji"),t.supports={everything:!0,everythingExceptFlag:!0},o=0;o<i.length;o++)t.supports[i[o]]=l(i[o]),t.supports.everything=t.supports.everything&&t.supports[i[o]],"flag"!==i[o]&&(t.supports.everythingExceptFlag=t.supports.everythingExceptFlag&&t.supports[i[o]]);t.supports.everythingExceptFlag=t.supports.everythingExceptFlag&&!t.supports.flag,t.DOMReady=!1,t.readyCallback=function(){t.DOMReady=!0},t.supports.everything||(n=function(){t.readyCallback()},a.addEventListener?(a.addEventListener("DOMContentLoaded",n,!1),e.addEventListener("load",n,!1)):(e.attachEvent("onload",n),a.attachEvent("onreadystatechange",function(){"complete"===a.readyState&&t.readyCallback()})),(r=t.source||{}).concatemoji?d(r.concatemoji):r.wpemoji&&r.twemoji&&(d(r.twemoji),d(r.wpemoji)))}(window,document,window._wpemojiSettings);
</script>



<meta name="generator" content="WordPress 5.3.2" />

</head>









<body class="home blog sticky_header header_logo_rounded text_posts_unbordered masonry_effect_enabled show_menu_circle_idicator sliding_sidebar_inactive">

<div id="page" class="site">

  <div class="site_main_container">

    <header class="site_header">
      
    <div class="gray_header" style="background-image: url('img/Multivendor_pale.png');" >
      <div class="container site_header">
        <div class="header_square_logo">
          <style>.site_logo_image { width : 120px; }.site_logo_image { height : 120px; }</style>
          <a class="alia_logo retina_logo" title="basondole.io" href="index.html" rel="home">
            <img  width=120 height=120 src="../../img/all-baggy.jpg" class="site_logo img-responsive site_logo_image clearfix" alt="basondole.github.io" /></a>
    
          <a class="alia_logo default_logo  has_retina_logo" title="basondole.io" href="index.html" rel="home">
          <img  width=120 height=120 src="../../img/all-baggy.jpg" class="site_logo img-responsive site_logo_image clearfix" alt="basondole.github.io" /></a>

          <h1 class="screen-reader-text site_logo site-title clearfix">basondole.io</h1>

        </div>

        <div class="header_tagline">
          Network design, development and automation for enterprise, service provider and<br/> data center fabrics.
        </div>

        <div class="social_icons_list header_social_icons">
          <a rel="nofollow" target="" href="https://twitter.com/misterbigpaul" title="Twitter" class="social_icon widget_social_icon social_twitter social_icon_twitter"><i class="fa fa-twitter"></i></a>
          <a rel="nofollow" target="_blank" href="https://www.linkedin.com/in/paul-i-2b3013108" title="Linked In" class="social_icon widget_social_icon social_linkedin social_icon_linkedin"><i class="fa fa-linkedin"></i></a>
          <a rel="nofollow" target="_blank" href="https://github.com/basondole" title="Github" class="social_icon widget_social_icon social_github social_icon_github"><i class="fa fa-github"></i></a>

          <a rel="nofollow" target="_blank" href="https://stackoverflow.com/users/12078639/bassosimons" title="stackoverflow" class="social_icon widget_social_icon"><i class="fa fa-rss"></i></a>

        </div>
      </div>

    </div>
        
    <div class="header_nav_wrapper">

      <div class="header_nav">

        <div class="container">
          <div class="site_branding">
          <h1 class="text_logo"><a href="../../index.html" rel="home">basondole.io<span class="logo_dot"></span></a></h1>
          </div>
          

          <!-- Place header control before main menu if site title is enabled -->
          <div class="header_controls">

            <div class="header_sliding_sidebar_control header_control_wrapper">
              <a id="user_control_icon" class="sliding_sidebar_button" href="#">
                <i class="fa fa-bars header_control_icon"></i>
              </a>
            </div>
        
          </div>
    

          <div class="main_menu">
            <ul id="top-menu" class="navbar">
              <li id="menu-item-318" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-318 default_menu"><a href="index.html" class="local-root-page">Home</a></li>
              
              <li id="menu-item-320" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-has-children menu-item-320 dropdown default_menu current-menu-item current_page_item active"><a href="../../blog.html" data-hover="dropdown" class="dropdown-toggle" class="local-root-page">Blog</a>
                <ul role="menu" class=" dropdown-menu">
                  <li id="menu-item-424" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-424 default_menu"><a href="index.html">Collaboration</a></li>
                  <li id="menu-item-3124" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-3124 default_menu"><a href="../networkauto/index.html">Network Automation</a></li>
                  <li id="menu-item-425" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-425 default_menu"><a href="">Tools</a></li>
                  <li id="menu-item-425" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-425 default_menu"><a href="index.html">Misc</a></li>
                </ul>
              </li>
              <li id="menu-item-2056" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2056 default_menu"><a href="bgp.html" class="local-root-page">BGP</a></li>
              <li id="menu-item-413" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-413 default_menu"><a href="about.html" class="local-root-page">About</a></li>
              
              
            </ul>
            <span class="menu_mark_circle hidden_mark_circle"></span>
          </div>
              
        <!-- Place header control after main menu if site title is enabled -->
          
        </div><!-- end .container -->
      </div><!-- end .header_nav -->
    </div><!-- end .header_nav_wrapper -->
    </header>

    <main id="content" class="site-content">
      <section id="primary" class="container main_content_area">
        <!-- end check for post layout -->
        <div class="row full_width_page_single no_sidebar_post_single">
          <div>
            <article id="post-182" class="blog_page_container post-182 page type-page status-publish">

              <div class="page_body">
                    <div class="post_info_wrapper">
                      <div class="entry-content blog_page_text blog_page_description">



<!-- ============================ START CONTENT ============================================ -->
<h1 id="bgp-unnumbered">BGP Unnumbered</h1>

<p>BGP requires a next-hop for a route to be valid. In IPv4, except for getting the MAC address to put on the packet, the next-hop IP address is not used in the packet at all.
In case of IPv6, as well, the next-hop IPv6 address is used to identify the next-hop MAC address, using IPv6’s equivalent of ARP: Neighbor Discovery (ND). Even in IPv6, forwarding to the original destination involves only the next-hop’s MAC address. Therefore the next-hop IP address is used only to get the next-hop’s MAC address.
</p>

<p>RFC 5549 builds on this observation and provides an encoding scheme to allow a router to advertise IPv4 routes with an IPv6 next-hop.
RFC 5549 is a somewhat obscure RFC, invented in the early years of a new century. Its purpose is to allow the advertisement of an IPv4 route and routing of an IPv4 packet over a pure IPv6 network.
</p>

<!-- To summarize:
<br/>• BGP unnumbered uses the interface’s IPv6 LLA to set up a BGP session with a peer.
<br/>• The IPv6 LLA of the remote end is discovered via IPv6’s Router Advertisement (RA) protocol.
<br/>• RA provides not only the remote end’s LLA, but also its corresponding MAC address.
<br/>• BGP uses RFC 5549 to encode IPv4 routes as reachable over an IPv6 nexthop, using the IPv6 LLA as the nexthop.
 -->
To summarize:
<ul>
  <li> BGP unnumbered uses the interface’s IPv6 LLA to set up a BGP session with a peer.</li>
  <li> The IPv6 LLA of the remote end is discovered via IPv6’s Router Advertisement (RA) protocol.</li>
  <li> RA provides not only the remote end’s LLA, but also its corresponding MAC address.</li>
  <li> BGP uses RFC 5549 to encode IPv4 routes as reachable over an IPv6 nexthop, using the IPv6 LLA as the nexthop.</li>
</ul>

<h3>Cumulus implementation</h3>
The RIB process programs a static ARP entry with a reserved IPv4 LLA, 169.254.0.1, with the MAC address set to the one learned via RA.
BGP hands down to the RIB process IPv4 routes with the IPv6 LLA as the next-hop.
The RIB process converts the next-hop to 169.254.0.1 and the outgoing interface before programming the route in the forwarding table as shown here

<pre>
cumulus@basondole-leaf:~$ arp
Address                  HWtype  HWaddress           Flags Mask            Iface
169.254.0.1              ether   50:00:00:05:00:01   CM                    swp1

cumulus@basondole-leaf:~$ ip route
192.168.1.1 via 169.254.0.1 dev swp1  proto bgp  metric 20 onlink

cumulus@basondole-spine:~$ net sh int swp1
    Name  MAC                Speed  MTU   Mode
--  ----  -----------------  -----  ----  -------------
UP  swp1  50:00:00:05:00:01  1G     1500  NotConfigured


LLDP Details
------------
LocalPort  RemotePort(RemoteHost)
---------  ----------------------
swp1       swp1(basondole-leaf)

Routing
-------
  Interface swp1 is up, line protocol is up
  .
  .
  Type: Ethernet
  HWaddr: 50:00:00:05:00:01
  inet6 fe80::5200:ff:fe05:1/64
  Hosts use stateless autoconfig for addresses.
  Neighbor address(s):
  inet6 fe80::5200:ff:fe04:1/128
</pre>

<h4>Cumulus configuration</h4>

<pre>
+--------------+                                +---------------+
|              |                                |               |
|    spine     |swp1------------------------swp1|    leaf       |
|              |                                |               |
+--------------+                                +---------------+
</pre>

Note: By default the ports on cumulus are IPv6 enabled and with BGP unnumbered we do not need IPv4 address on the interfaces. Therefore there is nothing to configure on the swp1 interfaces

<h5>Spine</h5>
<pre>
net add loopback lo ip address 192.168.1.1/32
net add bgp autonomous-system 64515
net add bgp network 192.168.1.1/32
net add bgp neighbor swp1 interface remote-as external
net add bgp neighbor swp1 capability extended-nexthop
net commit
</pre>

<h5>leaf</h5>
<pre>
net add loopback lo ip address 192.168.2.1/32
net add bgp autonomous-system 64512
net add bgp network 192.168.2.1/32
net add bgp neighbor swp1 interface remote-as external
net add bgp neighbor swp1 capability extended-nexthop
net commit
</pre>


<h4>Verfication on the spine</h4>

We are learning 1 prefix from the neighbor <code>basondole-leaf</code>

<pre>
cumulus@basondole-spine:~$ net sh bgp summary

show bgp ipv4 unicast summary
=============================
BGP router identifier 192.168.1.1, local AS number 64515 vrf-id 0
BGP table version 2
RIB entries 3, using 456 bytes of memory
Peers 1, using 19 KiB of memory

Neighbor             V         AS MsgRcvd MsgSent   TblVer  InQ OutQ  Up/Down State/PfxRcd
basondole-leaf(swp1) 4      64512     100     100        0    0    0 00:04:48            <b>1</b>

Total number of neighbors 1

cumulus@basondole-spine:~$ net sh bgp

show bgp ipv4 unicast
=====================
BGP table version is 2, local router ID is 192.168.1.1
Status codes: s suppressed, d damped, h history, * valid, > best, = multipath,
              i internal, r RIB-failure, S Stale, R Removed
Origin codes: i - IGP, e - EGP, ? - incomplete

   Network          Next Hop            Metric LocPrf Weight Path
*> 192.168.1.1/32   0.0.0.0                  0         32768 i
<b>*> 192.168.2.1/32   swp1                     0             0 64512 i</b>

Displayed  2 routes and 2 total paths

cumulus@basondole-spine:~$ net sh route   

show ip route
=============
Codes: K - kernel route, C - connected, S - static, R - RIP,
       O - OSPF, I - IS-IS, B - BGP, E - EIGRP, N - NHRP,
       T - Table, v - VNC, V - VNC-Direct, A - Babel, D - SHARP,
       F - PBR,
       > - selected route, * - FIB route

C>* 192.168.1.1/32 is directly connected, lo, 00:06:49
<b>B>* 192.168.2.1/32 [20/0] via fe80::5200:ff:fe04:1, swp1, 00:06:38</b>



cumulus@basondole-spine:~$ ping 192.168.2.1 -s 192.168.1.1 -c 5
PING 192.168.2.1 (192.168.2.1) 192(220) bytes of data.
200 bytes from 192.168.2.1: icmp_seq=1 ttl=64 time=1.18 ms
200 bytes from 192.168.2.1: icmp_seq=2 ttl=64 time=0.805 ms
200 bytes from 192.168.2.1: icmp_seq=3 ttl=64 time=1.05 ms
200 bytes from 192.168.2.1: icmp_seq=4 ttl=64 time=1.04 ms
200 bytes from 192.168.2.1: icmp_seq=5 ttl=64 time=1.06 ms

--- 192.168.2.1 ping statistics ---
5 packets transmitted, 5 received, 0% packet loss, time 4013ms
rtt min/avg/max/mdev = 0.805/1.030/1.180/0.124 ms
cumulus@basondole-spine:~$ 
</pre>



<h4>Verfication on the leaf</h4>

<pre>
cumulus@basondole-leaf:~$ net sh bgp summ

show bgp ipv4 unicast summary
=============================
BGP router identifier 192.168.2.1, local AS number 64512 vrf-id 0
BGP table version 2
RIB entries 3, using 456 bytes of memory
Peers 1, using 19 KiB of memory

Neighbor              V         AS MsgRcvd MsgSent   TblVer  InQ OutQ  Up/Down State/PfxRcd
basondole-spine(swp1) 4      64515      91      92        0    0    0 00:04:20            1

Total number of neighbors 1

cumulus@basondole-leaf:~$ net sh bgp 

show bgp ipv4 unicast
=====================
BGP table version is 2, local router ID is 192.168.2.1
Status codes: s suppressed, d damped, h history, * valid, > best, = multipath,
              i internal, r RIB-failure, S Stale, R Removed
Origin codes: i - IGP, e - EGP, ? - incomplete

   Network          Next Hop            Metric LocPrf Weight Path
*> 192.168.1.1/32   swp1                     0             0 64515 i
*> 192.168.2.1/32   0.0.0.0                  0         32768 i

Displayed  2 routes and 2 total paths
</pre>


<h3>Interoperability between vendors</h3>


<pre>
+--------------+                                +---------------+
|              |                                |               |
|    cisco     | Gi2-----------------------swp2 |    cumulus    |
|              |                                |               |
+--------------+                                +---------------+   
</pre>

With cisco IOS XE there’s more to be configured. In BGP configuration you must specify the link local address of the neighbor together with a <code>route-map</code> to change the next-hop address from ipv6 linklocal to ipv4 address.

<pre>
Cat8000v(config)#do sh ipv6 int g2 | i IPv6
  IPv6 is enabled, link-local address is FE80::5200:FF:FE06:1 

Cat8000v(config)#do sh ipv6 nei
IPv6 Address                              Age Link-layer Addr State Interface
FE80::5200:FF:FE03:2                        0 5000.0003.0002  REACH Gi2


cumulus@basondole-cu:~$ net sh int swp2 | egrep "Int.*swp|inet|Nei" 
IP Neighbor(ARP) Entries:  2
  Interface swp2 is up, line protocol is up
  inet 10.10.20.2/30
  inet6 fe80::5200:ff:fe03:2/64
  Neighbor address(s):
  inet6 fe80::5200:ff:fe06:1/128
</pre>


<h4>Configuration on IOS XE</h4>

<pre>
interface GigabitEthernet2
 description toCumulus
 ip address 10.10.20.1 255.255.255.252
 ipv6 enable

interface Loopback0
 ip address 192.168.30.1 255.255.255.255

router bgp 64520
 bgp log-neighbor-changes
 neighbor FE80::5200:FF:FE03:2%GigabitEthernet2 remote-as 64512
 !
 address-family ipv4
  network 192.168.30.1 mask 255.255.255.255
  neighbor FE80::5200:FF:FE03:2%GigabitEthernet2 activate
  neighbor FE80::5200:FF:FE03:2%GigabitEthernet2 route-map FRR out
 exit-address-family

route-map FRR permit 10 
 set ip next-hop 10.10.20.1
</pre>


<h4>Configuration on cumulus VX</h4>
<pre>
net add interface swp2 ip address 10.100.10.2/30
net add loopback lo ip address 192.168.20.1/32
net add bgp autonomous-system 64512
net add bgp network 192.168.20.1/32
net add bgp neighbor swp2 interface remote-as external
net add bgp neighbor swp2 capability extended-nexthop
net add routing route-map FRR permit 10 set ip next-hop 10.10.20.2
net add bgp neighbor swp2 route-map FRR out
net commit
</pre>

<blockquote>
In case you observe log messages on IOS XE
</blockquote>

<pre>
*Dec 29 14:24:02.791: %BGP-5-NBR_RESET: Neighbor 10.10.20.2 passive reset (BGP Notification sent)
*Dec 29 14:24:02.792: %BGP-5-ADJCHANGE: neighbor 10.10.20.2 passive Down Error during connection collision
</pre>

Remove ipv4 address on swp2, bgp session will come up then restore the ipv4 address, as it is needed for next hop resolution by the cumulus switch


<h4>Verification</h4>
<pre>
Cat8000v(config)#do sh bgp summ | b N
Neighbor        V           AS MsgRcvd MsgSent   TblVer  InQ OutQ Up/Down  State/PfxRcd
FE80::5200:FF:FE03:2%GigabitEthernet2
                4        64512     141     139        3    0    0 00:06:53        1


Cat8000v(config)#do sh bgp | b Net
     Network          Next Hop            Metric LocPrf Weight Path
 <b>*>   192.168.20.1/32  10.10.20.2               0             0 64512 i</b>
 *>   192.168.30.1/32  0.0.0.0                  0         32768 i

Cat8000v(config)#do ping 192.168.20.1 so 192.168.30.1
Type escape sequence to abort.
Sending 5, 100-byte ICMP Echos to 192.168.20.1, timeout is 2 seconds:
Packet sent with a source address of 192.168.30.1 
!!!!!
Success rate is 100 percent (5/5), round-trip min/avg/max = 1/7/18 ms

Cat8000v(config)#do traceroute 192.168.20.1 so 192.168.30.1 numeric
Type escape sequence to abort.
Tracing the route to 192.168.20.1
VRF info: (vrf in name/id, vrf out name/id)
  1 192.168.20.1 [AS 64512] 1 msec 1 msec 2 msec
Cat8000v(config)#
</pre>

<pre>
cumulus@basondole-cu:~$ net sh bgp summary

show bgp ipv4 unicast summary
=============================
BGP router identifier 192.168.20.1, local AS number 64512 vrf-id 0
BGP table version 6
RIB entries 3, using 456 bytes of memory
Peers 4, using 77 KiB of memory

Neighbor        V         AS MsgRcvd MsgSent   TblVer  InQ OutQ  Up/Down State/PfxRcd
swp2            4      64520     177     180        0    0    0 00:08:49            1

Total number of neighbors 1


cumulus@basondole-cu:~$ net sh bgp 

show bgp ipv4 unicast
=====================
BGP table version is 6, local router ID is 192.168.20.1
Status codes: s suppressed, d damped, h history, * valid, > best, = multipath,
              i internal, r RIB-failure, S Stale, R Removed
Origin codes: i - IGP, e - EGP, ? - incomplete

   Network          Next Hop            Metric LocPrf Weight Path
*> 192.168.20.1/32  0.0.0.0                  0         32768 i
<b>*> 192.168.30.1/32  10.10.20.1               0             0 64520 i</b>

Displayed  2 routes and 2 total paths


cumulus@basondole-cu:~$ ping 192.168.30.1 -s 192.168.20.1  -c 2
PING 192.168.30.1 (192.168.30.1) 192(220) bytes of data.
200 bytes from 192.168.30.1: icmp_seq=1 ttl=255 time=0.733 ms
200 bytes from 192.168.30.1: icmp_seq=2 ttl=255 time=0.775 ms

--- 192.168.30.1 ping statistics ---
2 packets transmitted, 2 received, 0% packet loss, time 1001ms
rtt min/avg/max/mdev = 0.733/0.754/0.775/0.021 ms


cumulus@basondole-cu:~$ traceroute 192.168.30.1 -s 192.168.20.1 -n
traceroute to 192.168.30.1 (192.168.30.1), 30 hops max, 60 byte packets
 1  10.10.20.1  1.638 ms * *
cumulus@basondole-cu:~$ 
</pre>


<blockquote>Juniper configuration</blockquote>
<pre>
basondole@vQFX# show | compare
[edit groups]
+  BGP_UNNUMBERED {
+      interfaces {
+          xe-0/0/1 {
+              unit 0 {
+                  description to_GNS3_via_vboxNet3;
+                  family inet {
+                      address 172.17.0.1/30;
+                  }
+                  family inet6;
+              }
+          }
+      }
+      protocols {
+          bgp {
+              group FRR {
+                  family inet {
+                      unicast;
+                  }
+                  peer-as 64515;
+                  local-as 64514;
+                  neighbor fe80::5200:ff:fe05:1 {
+                      local-interface xe-0/0/1.0;
+                  }
+              }
+          }
+      }
+  }
[edit]
+ apply-groups BGP_UNNUMBERED;
</pre>


                      </div>
                    </div>
                    <!-- end post_info_wrapper -->
                  </div>
                  <!-- end post_body -->

                </article>

<!-- ============================ END CONTENT ============================================ -->

                <div class="author_info_container author_single_box">
                  <div class="row">
                    <div class="author_avatar_col col">
                      <a class="author_avatar_url" href="about"><img alt='' src='../../img/all-baggy.jpg' srcset='../../img/all-baggy.jpg' class='avatar avatar-150 photo' height='150' width='150' /></a>
                    </div>
                    <div class="author_info_col col">
                      <div class="author_box_info_header">
                        <h2 class="author_display_name title">
                          <a class="author_name_url url fn n" href="">Paul S.I. Basondole </a>
                        </h2>

                      </div>
                      <div class="author_description">
IT &amp; Network Expert / Lead <br>
Network & Automation designer; <br>
2x JNCIP (RS/SP) 1x CCNP (RS) <br>
BSc Telecommunications Eng.
                      </div>
                      <div class="stories_circles_wrapper"></div>
                    </div>
                  </div>
                </div>
              </div>
              <!-- close col12 just inside .full_width_list -->
            </div>
            <!-- close .full_width_list -->
            <!-- close col and row in case of sidebar layout -->
            <!-- end check for post layout -->
          </section>
          <!-- #primary -->
        </main>
        <!-- #content -->
        <footer id="colophon" class="site_footer container" role="contentinfo">
          <div class="footer_credits footers_active_sidebars_0">
            &copy; 2019 basondole.io
          </div>
          <div id="aliagototop" title="Scroll To Top" class="alia_gototop_button footer_button">
            <i class="fa fa-arrow-up"></i>
          </div>
        </footer>

        <!-- #colophon -->
      </div>
      <!-- .site_main_container -->
      <!-- start sliding sidebar content -->
     <!-- .site_main_container -->
      <!-- start sliding sidebar content -->
      <div class="sliding_close_helper_overlay"></div>
      <div class="site_side_container">
        <h3 class="screen-reader-text">
          Sliding Sidebar
        </h3>
        <div class="info_sidebar">
          <div class="top_header_items_holder mobile_menu_opened">
            <div class="main_menu">
              <ul id="mobile-menu" class="navbar">
                <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-318 default_menu">
                  <a href="index.html" class="local-root-page">Home</a>
                </li>
                <li id="menu-item-2056" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2056 default_menu">
                  <a href="blog.html" data-hover="dropdown" class="dropdown-toggle" class="local-root-page">Blog</a>
                  
                </li>
                <li id="menu-item-2056" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2056 default_menu"><a href="bgp.html" class="local-root-page">BGP</a></li>
                <li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-413 default_menu current-menu-item current_page_item active">
                  <a href="about.html" class="local-root-page">About</a>
                </li>
                
                
                </li>
              </ul>
            </div>
          </div>
          <!-- end .top_header_items_holder -->
        </div>
      </div>
      <!-- end sliding sidebar content -->
      <!-- start footer static content -->
      <!-- start footer static content -->
    </div>
    <!-- #page -->
    <div id="ajax_modal_story" class="ajax_modal ajax_modal_story modal enable_rotate">
      <div class="story_modal_overlay_helper"></div>
    </div>


    </script>

    <script type='text/javascript' src='../../karneliuk/global.1.35.js' class="local-root-js"></script>


    <script type='text/javascript'>
/* <![CDATA[ */
var alia_core_vars = { "ajax_load_story": "http:\/\/karneliuk.com\/wp-content\/plugins\/alia-core\/ajax-load-story.php", "ajax_rotate_story": "http:\/\/karneliuk.com\/wp-content\/plugins\/alia-core\/ajax-rotate-story.php" };
/* ]]> */
    </script>


    <script type='text/javascript' src='../../karneliuk/alia-core.1.13.js' class="local-root-js"></script>
    <script type='text/javascript' src='../../karneliuk/wp-embed.min.5.3.2.js' class="local-root-js"></script>

    
<script type="text/javascript">
  // edit the level variable, the load the page and copy the loaded DOM, NOT the source
  // to get updated paths throughout the dom
  
  var 
  localPagesFiles = document.getElementsByClassName("local-root-page"),
  localJsFiles = document.getElementsByClassName("local-root-js"),
  localCssFiles = document.getElementsByClassName("local-root-css"),
  localImagesFiles = document.getElementsByClassName("local-root-image");

  var level = "../../";

  function updatePaths() { 
    for (var i=0; i<localPagesFiles.length; i++) {
          var path = level + localPagesFiles[i].getAttribute("href");
          localPagesFiles[i].setAttribute("href",path);
          console.log(localPagesFiles[i].getAttribute("href"));
    }

    for (var i=0; i<localJsFiles.length; i++) {
          var path = level + localJsFiles[i].getAttribute("src");
          localJsFiles[i].setAttribute("src",path);
          console.log(localJsFiles[i].getAttribute("src"));
    }

    for (var i=0; i<localCssFiles.length; i++) {
          var path = level + localCssFiles[i].getAttribute("src");
          localCssFiles[i].setAttribute("src",path);
          // console.log(localJsFiles[i].getAttribute("src"));
    }

    for (var i=0; i<localImagesFiles.length; i++) {
          var path = level + localImagesFiles[i].getAttribute("src");
          localImagesFiles[i].setAttribute("src",path);
          // console.log(localJsFiles[i].getAttribute("src"));
    }
  }

  window.onload = function () {
   updatePaths();
  };

</script>

<script type="text/javascript">
  var localPagesFiles = document.getElementsByClassName("local-root-page");
function printId(event) {
  var myId = this.Id;
  console.log(myId);
}
for (var i=0; i<localPagesFiles.length; i++) {
       localPagesFiles[i].addEventListener("click",printId);
}
</script>




  </body>
</html>
