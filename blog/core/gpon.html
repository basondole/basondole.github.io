<!DOCTYPE html>
<html lang="en-US" prefix="og: http://ogp.me/ns#" class="no-js no-svg">

<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">

<script>(function(html){html.className = html.className.replace(/\bno-js\b/,'js')})(document.documentElement);</script>

<title>basondole.io &#8211; Network design and development, 2x JNCIP (ENT/SP) 1x CCNP (RS), BSc.</title>

<link rel="profile" href="http://gmpg.org/xfn/11">
<link rel='dns-prefetch' href='//www.google.com' />
<link rel='dns-prefetch' href='//fonts.googleapis.com' />
<link rel='dns-prefetch' href='//s.w.org' />
<link crossorigin="anonymous" rel='stylesheet' id='alia-fonts-css'  href='https://fonts.googleapis.com/css?family=Roboto%3A400%2C400i%2C700%2C700i%7CPoppins%3A400%2C400i%2C700%2C700i&#038;subset=latin%2Clatin-ext' type='text/css' media='all' />


<link rel='stylesheet' id='wp-block-library-css'  href='../../karneliuk/style.min.5.3.2.css' type='text/css' media='all' />
<link rel='stylesheet' id='github-embed-css'  href='../../karneliuk/github-embed.5.3.2.css' type='text/css' media='all' />
<link rel='stylesheet' id='responsive-lightbox-swipebox-css'  href='../../karneliuk/swipebox.min.2.2.2.css' type='text/css' media='all' />
<link rel='stylesheet' id='alia-style-css'  href='../../karneliuk/alia.style.1.35.css' type='text/css' media='all' />
<link rel='stylesheet' id='fontawesome-css'  href='../../karneliuk/all.min.1.0.css' type='text/css' media='all' />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<link rel='stylesheet' id='codecolorer-css'  href='../../karneliuk/codecolorer.0.9.16.css' type='text/css' media='screen' />
<link rel="stylesheet" href="../../css/style1.css" />

<link rel="icon" href="http://karneliuk.com/wp-content/uploads/2019/10/cropped-logo_karneliuk_square-32x32.jpg" sizes="32x32" />
<link rel="icon" href="http://karneliuk.com/wp-content/uploads/2019/10/cropped-logo_karneliuk_square-192x192.jpg" sizes="192x192" />

<link rel='https://api.w.org/' href='../../karneliuk/wp-json' />


<script type='text/javascript' src='../../karneliuk/jquery-1.12.4-wp.js' class="local-root-js"></script>
<script type='text/javascript' src='../../karneliuk/jquery-migrate.min-1.4.1.js' class="local-root-js"></script>
<script type='text/javascript' src='../../karneliuk/ouibounce-5.3.2.js' class="local-root-js"></script>


<script type="text/javascript">
  window._wpemojiSettings = {"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/12.0.0-1\/72x72\/","ext":".png","svgUrl":"https:\/\/s.w.org\/images\/core\/emoji\/12.0.0-1\/svg\/","svgExt":".svg","source":{"concatemoji":"karneliuk/wp-emoji-release.min.5.3.2.js"}};
  !function(e,a,t){var r,n,o,i,p=a.createElement("canvas"),s=p.getContext&&p.getContext("2d");function c(e,t){var a=String.fromCharCode;s.clearRect(0,0,p.width,p.height),s.fillText(a.apply(this,e),0,0);var r=p.toDataURL();return s.clearRect(0,0,p.width,p.height),s.fillText(a.apply(this,t),0,0),r===p.toDataURL()}function l(e){if(!s||!s.fillText)return!1;switch(s.textBaseline="top",s.font="600 32px Arial",e){case"flag":return!c([127987,65039,8205,9895,65039],[127987,65039,8203,9895,65039])&&(!c([55356,56826,55356,56819],[55356,56826,8203,55356,56819])&&!c([55356,57332,56128,56423,56128,56418,56128,56421,56128,56430,56128,56423,56128,56447],[55356,57332,8203,56128,56423,8203,56128,56418,8203,56128,56421,8203,56128,56430,8203,56128,56423,8203,56128,56447]));case"emoji":return!c([55357,56424,55356,57342,8205,55358,56605,8205,55357,56424,55356,57340],[55357,56424,55356,57342,8203,55358,56605,8203,55357,56424,55356,57340])}return!1}function d(e){var t=a.createElement("script");t.src=e,t.defer=t.type="text/javascript",a.getElementsByTagName("head")[0].appendChild(t)}for(i=Array("flag","emoji"),t.supports={everything:!0,everythingExceptFlag:!0},o=0;o<i.length;o++)t.supports[i[o]]=l(i[o]),t.supports.everything=t.supports.everything&&t.supports[i[o]],"flag"!==i[o]&&(t.supports.everythingExceptFlag=t.supports.everythingExceptFlag&&t.supports[i[o]]);t.supports.everythingExceptFlag=t.supports.everythingExceptFlag&&!t.supports.flag,t.DOMReady=!1,t.readyCallback=function(){t.DOMReady=!0},t.supports.everything||(n=function(){t.readyCallback()},a.addEventListener?(a.addEventListener("DOMContentLoaded",n,!1),e.addEventListener("load",n,!1)):(e.attachEvent("onload",n),a.attachEvent("onreadystatechange",function(){"complete"===a.readyState&&t.readyCallback()})),(r=t.source||{}).concatemoji?d(r.concatemoji):r.wpemoji&&r.twemoji&&(d(r.twemoji),d(r.wpemoji)))}(window,document,window._wpemojiSettings);
</script>



<meta name="generator" content="WordPress 5.3.2" />

</head>









<body class="home blog sticky_header header_logo_rounded text_posts_unbordered masonry_effect_enabled show_menu_circle_idicator sliding_sidebar_inactive">

<div id="page" class="site">

  <div class="site_main_container">

    <header class="site_header">
      
    <div class="gray_header"  >
      <div class="container site_header">
        <div class="header_square_logo">
          <style>.site_logo_image { width : 120px; }.site_logo_image { height : 120px; }</style>
          <a class="alia_logo retina_logo" title="basondole.io" href="index.html" rel="home">
            <img  width=120 height=120 src="../../img/all-baggy.jpg" class="site_logo img-responsive site_logo_image clearfix" alt="basondole.github.io" /></a>
    
          <a class="alia_logo default_logo  has_retina_logo" title="basondole.io" href="index.html" rel="home">
          <img  width=120 height=120 src="../../img/all-baggy.jpg" class="site_logo img-responsive site_logo_image clearfix" alt="basondole.github.io" /></a>

          <h1 class="screen-reader-text site_logo site-title clearfix">basondole.io</h1>

        </div>

        <div class="header_tagline">
          Multivendor network design, development and automation for enterprise and service provider fabrics. Skills that matter
        </div>

        <div class="social_icons_list header_social_icons">
          <a rel="nofollow" target="" href="https://twitter.com/misterbigpaul" title="Twitter" class="social_icon widget_social_icon social_twitter social_icon_twitter"><i class="fa fa-twitter"></i></a>
          <a rel="nofollow" target="_blank" href="https://www.linkedin.com/in/paul-i-2b3013108" title="Linked In" class="social_icon widget_social_icon social_linkedin social_icon_linkedin"><i class="fa fa-linkedin"></i></a>
          <a rel="nofollow" target="_blank" href="https://github.com/basondole" title="Github" class="social_icon widget_social_icon social_github social_icon_github"><i class="fa fa-github"></i></a>

          <a rel="nofollow" target="_blank" href="https://stackoverflow.com/users/12078639/bassosimons" title="stackoverflow" class="social_icon widget_social_icon"><i class="fa fa-rss"></i></a>

        </div>
      </div>

    </div>
        
    <div class="header_nav_wrapper">

      <div class="header_nav">

        <div class="container">
          <div class="site_branding">
          <h1 class="text_logo"><a href="index.html" rel="home">basondole.io<span class="logo_dot"></span></a></h1>
          </div>
          

          <!-- Place header control before main menu if site title is enabled -->
          <div class="header_controls">

            <div class="header_sliding_sidebar_control header_control_wrapper">
              <a id="user_control_icon" class="sliding_sidebar_button" href="#">
                <i class="fa fa-bars header_control_icon"></i>
              </a>
            </div>
        
          </div>
    

          <div class="main_menu">
            <ul id="top-menu" class="navbar">
              <li id="menu-item-318" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-318 default_menu"><a href="index.html" class="local-root-page">Home</a></li>
              <li id="menu-item-2788" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-2788 default_menu"><a href="https://github.com/basondole/mpls#introduction">Design</a></li>
              <li id="menu-item-2534" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-2534 default_menu"><a href="https://github.com/basondole/open#hocid">NET2CODE</a></li>
              <li id="menu-item-320" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-has-children menu-item-320 dropdown default_menu current-menu-item current_page_item active"><a href="../../blog.html" data-hover="dropdown" class="dropdown-toggle" class="local-root-page">Blog</a>
                <ul role="menu" class=" dropdown-menu">
                  <li id="menu-item-424" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-424 default_menu"><a href="index.html">Collaboration</a></li>
                  <li id="menu-item-3124" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-3124 default_menu"><a href="../networkauto/index.html">Network Automation</a></li>
                  <li id="menu-item-425" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-425 default_menu"><a href="">Tools</a></li>
                  <li id="menu-item-425" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-425 default_menu"><a href="index.html">Misc</a></li>
                </ul>
              </li>
              <li id="menu-item-2056" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2056 default_menu"><a href="bgp.html" class="local-root-page">BGP</a></li>
              <li id="menu-item-413" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-413 default_menu"><a href="about.html" class="local-root-page">About</a></li>
              <li id="menu-item-412" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-412 default_menu"><a href="contact.html" class="local-root-page">Contact</a></li>
              <!-- <li id="menu-item-2056" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2056 default_menu"><a href="http://karneliuk.com/donate/">Donate</a></li> -->
            </ul>
            <span class="menu_mark_circle hidden_mark_circle"></span>
          </div>
              
        <!-- Place header control after main menu if site title is enabled -->
          
        </div><!-- end .container -->
      </div><!-- end .header_nav -->
    </div><!-- end .header_nav_wrapper -->
    </header>

    <main id="content" class="site-content">
      <section id="primary" class="container main_content_area">
        <!-- end check for post layout -->
        <div class="row full_width_page_single no_sidebar_post_single">
          <div>
            <!-- <article id="post-182" class="blog_page_container post-182 page type-page status-publish"> -->

              <div class="page_body">
                    <div class="post_info_wrapper">
                      <div class="entry-content blog_page_text blog_page_description">



<!-- ============================ START CONTENT ============================================ -->
<h1 id="gpon-overview">GPON Overview</h1>
<p>A PON is a fiber network that only uses fiber and passive components like splitters and combiners rather than active components like amplifiers, repeaters, or shaping circuits. Such networks cost significantly less than those using active components.
The main disadvantage is a shorter range of coverage limited by signal strength. While an active optical network (AON) can cover a range to about 100 km (62 miles), a PON is typically limited to fiber cable runs of up to 20 km (12 miles). PONs also are called fiber to the home (FTTH) networks.
GPON is a Gigabit PON, Gigabit Passive Optical Network, it derives its name from the speed it provides. It delivers 2.488 Gbits/s downstream and 1.244 Gbits/s upstream.</p>
<h2 id="merits-of-gpon-network">Merits of GPON network</h2>
<p>•    Longer transmission distance:  resolving transmission distance and bandwidth issues in twisted pair transmission.<br>•    Higher bandwidth: Each GPON port supports a maximum transmission rate 2.5 Gbit/s downstream and 1.25 Gbit/s upstream<br>•    Higher resource usage with lower costs: GPON supports a split ratio up to 1:128. A feeder fiber from the CO equipment room can be split to up to 128 drop fibers. This economizes on fiber resources and O&amp;M cost  </p>
<h2 id="gpon-in-comparison-to-other-optical-access-network-deployments">GPON in comparison to other optical access network deployments</h2>
<p>A passive optical network, does not include electrically powered switching equipment and instead uses optical splitters to separate and collect optical signals as they move through the network. A passive optical network shares fiber optic strands for portions of the network. Powered equipment is required only at the source and receiving ends of the signal.
An active optical system uses electrically powered switching equipment, such as a router or a switch aggregator, to manage signal distribution and direct signals to specific customers. In such a system, one optical fiber connects to a switch. The switch rebroadcasts the data to each individual user. A separate cable is routed from the switch to each individual user.
See figure below for physical topology comparison highlighting the pros of a PON network.  </p>
<p><img src="https://user-images.githubusercontent.com/50369643/62413491-1b991b80-b618-11e9-86fa-1503022b8135.png" alt="opticalnet"></p>
<h2 id="gpon-transmission">GPON Transmission</h2>
<p>GPON is a point to multi-point (P2MP) passive optical network. GPON uses optical wavelength division multiplexing (WDM) so a single fiber can be used for both downstream and upstream data. A laser on a wavelength of 1490 nm transmits downstream data. Upstream data transmits on a wavelength of 1310 nm.<br>GPON Working principle: A GPON network is composed of OLT, ODN and ONU.  </p>
<p><img src="https://user-images.githubusercontent.com/50369643/62413515-7894d180-b618-11e9-83dd-2242ac47299a.png" alt="olt-onu"></p>
<h3 id="gpon-system-components">GPON System components</h3>
<ol>
<li>Optical Line terminal (OLT): is an aggregation device located at the central office. It typically provides Ethernet uplinks to the internet (WAN)</li>
<li>Optical Network Units (ONUs)/Optical Network Terminal (ONTs): are located on the user side, providing various ports for connecting to user terminals. These typically have LAN Ethernet ports</li>
<li>The Optical distribution Network (ODN):  is the physical fiber infrastructure connecting the OLT to the ONTs. It consists of a tree of fiber cables and one or more optical splitters. </li>
</ol>
<p><img src="https://user-images.githubusercontent.com/50369643/62413534-c90c2f00-b618-11e9-99db-6515daecf059.png" alt="ont-olt"></p>
<p><img src="https://user-images.githubusercontent.com/50369643/62413548-e3460d00-b618-11e9-9709-826687ba0787.png" alt="oo"></p>
<p>Service Node Interface (SNI) is the Ethernet uplink of the OLT and this is usually connected to an Ethernet switch or router in the service provider network. The User to Network Interface (UNI) interfaces the customer equipment to the PON network using Ethernet LAN connection. In common deployment the ONT is only bridging the CPE to PON network, nevertheless some advanced ONU models can also operate on router mode, providing connection to hosts.</p>
<p>The internal configuration combining OLT and ONT can be conceptualized as depicted in the following sketch
<img src="https://user-images.githubusercontent.com/50369643/62413571-125c7e80-b619-11e9-9e39-ad7a25630e70.png" alt="gponsketch"></p>
<h3 id="gpon-service-multiplexing">GPON Service multiplexing</h3>
<p>GPON adopts two multiplexing mechanisms for transmission  </p>
<h4 id="-a-downstream-direction-i-e-from-olt-to-users-">(a)    Downstream direction (i.e. from OLT to users)</h4>
<p>  All data is broadcast to all ONUs from the OLT. The ONUs then select and receive their respective data and discard the other data. An ONU identifies the desired data by ONU ID (GEM port ID)</p>
<p><img src="https://user-images.githubusercontent.com/50369643/62413591-4637a400-b619-11e9-895c-ba761a47ad07.png" alt="gponmux"></p>
<h4 id="-b-upstream-direction-i-e-from-users-to-olt-">(b)    Upstream direction (i.e. from users to OLT)</h4>
<p>  Data packets are transmitted in a Time Division Multiple Access (TDMA) manner based on time slots
Each ONU can send data to the OLT only in the timeslot permitted and allocated by the OLT. This ensures that each ONU sends data in a given sequence, avoiding upstream data conflicts. The Detects and prevents collisions through ranging</p>
<p><img src="https://user-images.githubusercontent.com/50369643/62413606-6bc4ad80-b619-11e9-8178-6589f245b68e.png" alt="gpondemux"></p>
<p>In Ranging the OLT measures delay and sets a register in each ONU via PLOAM (Physical Layer Operations, Administration and Maintenance) messages to equalize its delay with respect to all other ONUs on the access network
Once the delay of all ONUs have been set, the OLT transmits grants to individual ONUs. A grant is permission to use a defined interval of time for upstream transmission. The grant map is dynamically re-calculated every few milliseconds. The map allocates bandwidth to all ONUs such that each ONU receives timely bandwidth for its needs.</p>
<h2 id="gpon-encapsulation">GPON Encapsulation</h2>
<p>GPON makes use of GEM Ports and T-CONTs. GEM ports and T-CONTs divide a PON network into virtual connections for service multiplexing</p>
<p><strong>GEM:</strong>  </p>
<blockquote>
<p>Refers to GPON Encapsulation Method, and is the native protocol used for transmitting data within a GPON.</p>
</blockquote>
<p><strong>T-CONT:</strong>  </p>
<blockquote>
<p>A Transmission Container is an ONU object representing a group of logical connections that appear as a single entity for the purpose of upstream bandwidth assignment on the PON. All GEM ports are mapped to T-CONTs. Then service streams are transmitted upstream by means of OLT&#39;s dynamic bandwidth allocation (DBA) scheduling
A T-CONT can be bound to one or more GEM ports, depending on customers&#39; data plan. On the OLT, GEM ports are demodulated from the T-CONT and then service streams are demodulated from the GEM port payload for further processing</p>
</blockquote>
<p><strong>GEM Port:</strong> </p>
<blockquote>
<p>Is a virtual port for transmitting frames between the OLT and the ONU/ONT and can be described as a logical point-to-point connection between OLT and ONT. 
Each GEM port can carry one or more types of service stream. After carrying service streams, a GEM port must be mapped to a T-CONT before upstream service scheduling. Each ONU supports multiple T-CONTs that can have different service types.
Several GEM Ports can be assigned to a T-CONT, one GEM port can carry up to 8 GEM connections.</p>
</blockquote>
<p><img src="https://user-images.githubusercontent.com/50369643/62413621-a29ac380-b619-11e9-9d8c-7d73fe357e36.png" alt="tcont"></p>
<p><strong>DBA:</strong></p>
<blockquote>
<p>Dynamic Bandwidth Allocation (DBA) is a methodology that allows adoption of users&#39; bandwidth allocation based on current traffic requirements.
It allows upstream timeslots to shrink and grow based on the distribution of upstream traffic loads. DBA functions on T-CONTs and provides a way for ONT and OLT to communicate on bandwidth requirement, OLT polls the ONU which in turn responds with a report of data currently waiting to be sent (traffic in T-CONT buffer) OLT receives the status report and sends bandwidth-allocation to the ONU.
When ONT has nothing to send, it sends an idle cell to the OLT which in turn allocate the bandwidth to other T-CONTs</p>
</blockquote>
<h2 id="service-mapping-relationship">Service mapping relationship</h2>
<h4 id="-a-in-the-upstream-direction-">(a)    In the upstream direction:</h4>
<p>ONU sends Ethernet frames to GEM ports based on configured mapping rules between service ports and GEM ports. Then, the GEM ports encapsulate the Ethernet frames into GEM packet data units and add the PDUs to T-CONT queues based on the configured mapping rules between GEM ports and T-CONT queues. Then, the T-CONT queues use timeslots for upstream transmission to send GEM PDUs to the OLT.
The OLT receives the GEM PDUs and obtains Ethernet frames from them. Then, the OLT sends Ethernet frames from a specified uplink port based on the configured mapping rules between service ports and uplink ports.
For the upstream from ONU to OLT, a time division multiplex (TDM) technique is used where each user is assigned a timeslot on a different wavelength of light. Because the TDM method involves multiple users on a single transmission, The OLT determines the distance and time delay of each subscriber. Then software provides a way to allocate timeslots to upstream data for each user. This advocates the fact that the upstream rate is less than the maximum because it is shared with other ONUs in a TDMA scheme. </p>
<p><img src="https://user-images.githubusercontent.com/50369643/62413638-dc6bca00-b619-11e9-8599-2490e86ce208.png" alt="gemport"></p>
<h4 id="-b-in-the-downstream-direction-">(b)    In the downstream direction:</h4>
<p>The OLT sends Ethernet frames to the GPON service processing module based on configured mapping rules between service ports and uplink ports. The GPON service processing module then encapsulates the Ethernet frames into GEM PDUs for downstream transmission using a GPON port. 
GPON transmission convergence (GTC) frames containing GEM PDUs are broadcast to all ONUs connected to the GPON port. 
The ONU filters the received data according to the GEM port ID contained in the GEM PDU header and retains the data only belonging to the GEM ports of this ONU. Then, the ONU decapsulates the data to Ethernet frames and sends them to end users using service ports.
In the basic method of operation for downstream distribution on one wavelength of light from OLT to ONU/ONT, all customers receive the same data. The ONU recognizes data targeted at each user.</p>
<p><img src="https://user-images.githubusercontent.com/50369643/62413648-10df8600-b61a-11e9-98e5-802bdb52f918.png" alt="gemport2"></p>
<h1 id="service-provisioning-on-huawei-olt-ma56xx">Service provisioning on Huawei OLT MA56xx</h1>
<h2 id="configuration-via-u2000-nms">Configuration via U2000 NMS</h2>
<h4 id="1-create-traffic-profile-">1. Create Traffic profile:</h4>
<p>This defines Committed Information Rate CIR and Peak Information Rate PIR to be applied on ONT, it is used on the ONT to control upstream and downstream traffic.<br>Procedure:<br>(a) Choose Configuration &gt; Access Profile Management &gt; Traffic Profile<br>(b) Click the MEF IP Traffic Profile tab.<br>(c) Right-click and choose Add Global Profile.<br>(d) In the dialog box set the  </p>
<blockquote>
<p>[ profile name | CIR | optional PIR|CBS|PBS] 
CIR=Committed Information Rate<br>CBS=Committed Burst Size<br>PIR=Peak Information Rate<br>PBS=Peak Burst Size  </p>
</blockquote>
<p>(e) Click OK<br>(f) In the MEF IP Traffic profile list, right-click the profile created and Download to NE<br>(g) Select the required NE(s) you want the profile to be used in, and click OK  </p>
<h4 id="2-create-dba-profile-">2. Create DBA profile:</h4>
<p>This defines bandwidth to be applied on Line profile for upstream traffic<br>Procedure:<br>(a) Choose Configuration &gt; Access Profile Management &gt; GPON Profile<br>(b) Click the DBA Profile tab.<br>(c) Right-click and choose Add Global Profile.<br>(d) In the dialog box set the parameters  </p>
<blockquote>
<p>[ Name | TCONT (DBA) type and consequently its bandwidth]  </p>
</blockquote>
<p>(e) Click OK<br>(f) In the DBA profile list, right-click the profile and choose Download to NE<br>(g) Select the required NE(s) you want the profile to be used in<br>(h) and click OK  </p>
<h4 id="3-create-line-profile-">3. Create Line profile:</h4>
<p>The line profile binds the DBA to a T-CONT, specifies GEM ports and GEM connections with their respective VLANs. One or multiple (up to 8) GEM connections (each with different VLAN) can be added on a single GEM port. In a GEM port, different GEM connections need to be set up for different service streams.<br>Procedure:<br>(a) Choose Configuration &gt; Access Profile Management &gt; GPON Profile<br>(b) Click the Line Profile tab.<br>(c) Right-click and choose Add Global Profile.<br>(d) In the dialog box set the Name<br>(e) Click on Base Info and set the parameters  </p>
<blockquote>
<p>[ Mapping Mode: VLAN | QoS Mode: Priority Queue]  </p>
</blockquote>
<p>(f) Click on Line then right-click T-CONT Info and choose ADD TCONT from the shortcut menu.<br>(g) In the dialog box set the parameters  </p>
<blockquote>
<p>[–TCONT Index | –Assign DBA Profile]  </p>
</blockquote>
<p>(h) Right-click the created T-CONT and choose Add GEM Port<br>(i) In the dialog box set the parameters</p>
<blockquote>
<p>[–GEM Port Index] and click OK  </p>
</blockquote>
<p>(j) Right-click the created GEM Port and choose Add GEM Connection<br>(k) In the dialog box set the parameters</p>
<blockquote>
<p>[–GEM Connection Index |–VLAN ID]  </p>
</blockquote>
<p>(l) In the line profile list, right-click the profile and choose Download to NE.<br>(m) Select the required NE(s) you want the profile to be used in, and click OK  </p>
<h4 id="4-create-service-profile-">4. Create Service profile:</h4>
<p>This should be consistent with the actual ONT type as it depends on port density and port type of the ONT<br>Procedures:<br>(a) Choose Configuration &gt; Access Profile Management &gt; GPON Profile from the main menu.<br>(b) Click the Service Profile tab.<br>(c) Right-click and choose Add Global Profile from the shortcut menu.<br>(d) In the dialog box set the Name<br>(e) Choose Base Info and set the parameters  </p>
<blockquote>
<p>[–Number of Pots Ports |–Number of ETH Ports]  </p>
</blockquote>
<p>(f) Choose UNI Port and right-click the record where Port Type is set to ETH and Port ID is set to 1 and choose UNI Port Configuration Properties<br>(g) In the dialog box that is displayed, right-click and choose Add, and configure the parameters of VLAN switch.<br>(h) Set </p>
<blockquote>
<p>[–Service Type: Translation |–SVLAN |–CVLAN (Client VLAN)] and Click OK.  </p>
</blockquote>
<p>(i) In the service profile list, right-click the profile and choose Download to NE.<br>(j) Select the required NE(s) you want the profile to be used in, and click OK   </p>
<h4 id="5-register-the-ont-">5. Register the ONT:</h4>
<p>This process involved adding the ONU/ONT to the OLT PON port<br>Procedure:<br>(a) In the Main Topology, double-click or right-click the required OLT and choose NE Explorer<br>(b) Choose GPON then GPON UNI Port Tab<br>(c) On the GPON UNI Port tab page, set the filter criteria to display the required GPON UNI ports.<br>(d) From the list, right-click GPON UNI port where the ONT is connected and Enable ONU Auto Find.<br>(e) Click the Auto-Discovered ONU Info tab in the lower pane, click the ONT and then choose Confirm ONU.<br>(f) Set parameters  </p>
<blockquote>
<p>[–Name |–ONU Type: ONT]  </p>
</blockquote>
<p>(g) On the Basic Parameters tab set the parameters  </p>
<blockquote>
<p>[–Line Profile |–Service Profile|–Authentication Mode: SN |–Terminal Type]  </p>
</blockquote>
<p>(h) Click OK  </p>
<h4 id="6-configure-the-service-">6. Configure the service:</h4>
<p>Procedure:<br>6.1. Configuring the ETH Port of a GPON ONU as tagged or untagged<br>(a)    Choose GPON &gt; GPON ONU from the navigation tree.<br>(b)    On the GPON ONU tab page, set the filter criteria to display the required GPON ONUs.<br>(c)    Select the ONT from the list and click the ONT&#39;s UNI Port Info tab in the lower pane.<br>(d)    On the ONT&#39;s UNI Port Info tab page, right-click the record where UNI Type is set to ETH and UNI ID is set to 1, and choose Modify.<br>(e)    In the dialog box set Default VLAN ID. The default VLAN will be untagged, any other VLAN on this port will be tagged<br>(f)    Click OK.  </p>
<p>6.2. Configure a service VLAN on the OLT side. A service VLAN is the VLAN used for the service.<br>(a)    Choose VLAN from the navigation tree.<br>(b)    On the VLAN tab page right-click and choose Add.<br>(c)    In the dialog box set the parameters  </p>
<blockquote>
<p>[–VLAN ID |–Type: Smart VLAN]  </p>
</blockquote>
<p>(d)    Click Next. Click the Upstream Port tab and add upstream port of the VLAN.<br>(e)    Click Done  </p>
<p>6.3. Add a service virtual port on the OLT side.<br>(a)    On the VLAN tab page, select the record with the VLAN ID and click the Service Port tab in the lower pane.<br>(b)    From the service port tab, right-click and choose Add.<br>(c)    In the dialog box set the parameters:  </p>
<blockquote>
<p>[– Name |–VLAN ID (SVLAN) |–Connection Type: LAN-GPON |–Interface Selection (choose the GEM Port) |–Service Type: Multi-Service VLAN |– User VLAN (VLAN) |–Keep the upstream and downstream settings the same: selected]  </p>
</blockquote>
<h2 id="procedures-in-summary">Procedures in summary</h2>
<p><img width="262" alt="gponprovision" src="https://user-images.githubusercontent.com/50369643/62414231-f9f06200-b620-11e9-8ea1-a57449ae713a.PNG"></p>
<h2 id="configuration-via-cli">Configuration via CLI</h2>
<h3 id="auto-discover-ont">Auto discover ONT</h3>
<p> <code>dispaly ont autofind all</code></p>
<h3 id="create-service-profile">Create Service-profile</h3>
<pre>
 ont-srvprofile gpon profile-name "SERV_PRF"
  ont-port pots 2 eth 4 
  transparent enable 
  port vlan eth 1 translation 101 user-vlan 101
  port vlan eth 1 translation 102 user-vlan 102
  port vlan eth 1 translation 103 user-vlan 103
  port vlan eth 1 translation 104 user-vlan 104
  port vlan eth 1 translation 105 user-vlan 105
  port vlan eth 2 translation 106 user-vlan 106
  port vlan eth 3 translation 107 user-vlan 107
  port vlan eth 4 translation 108 user-vlan 108
  commit
</pre>

<h3 id="create-dba-profile">Create DBA profile</h3>
<pre>
 dba-profile add profile-name "CIR_160Mb" type1 fix 163840 bandwidth_compensate no
</pre>

<h3 id="create-line-profile">Create Line-profile</h3>
<pre>
 ont-lineprofile gpon profile-name "LINE_PRF"
  tcont 3 dba-profile-name CIR_160 
  gem add 0 eth tcont 3 | Add GEM-Port 0 to T-CONT 3
  gem add 1 eth tcont 3
  gem add 2 eth tcont 3
  gem add 3 eth tcont 3
  gem add 4 eth tcont 3
  gem add 5 eth tcont 3
  gem add 6 eth tcont 3
  gem add 7 eth tcont 3
  gem mapping 0 0 vlan 101 | on GEM-Port 0 add Gem-connection 0 with CVLAN 101
  gem mapping 1 1 vlan 102 | on GEM-Port 1 add Gem-connection 1 with CVLAN 102
  gem mapping 2 2 vlan 103
  gem mapping 3 3 vlan 104
  gem mapping 4 4 vlan 105
  gem mapping 5 5 vlan 106
  gem mapping 6 6 vlan 107
  gem mapping 7 7 vlan 108
  commit
  quit
</pre>

<h3 id="create-traffic-profile-to-be-used-on-service-port">Create traffic profile to be used on service-port</h3>
<p> <code>traffic table ip name &quot;160Mb&quot; cir 163840 cbs 5242880 pir 158720 pbs 5242880 priority 0 priority-policy local-setting</code></p>
<h3 id="create-svlan">Create SVLAN</h3>
<p> <code>vlan desc 326 description &quot;CUSTOMER1&quot;</code></p>
<h3 id="add-the-svlan-to-the-ethernet-port-to-pe">Add the SVLAN to the ethernet port to PE</h3>
<p>The OLT port connecting to PE is 0/7/0<br> <code>port vlan 234 0/7 0</code></p>
<h3 id="add-ont">Add ONT</h3>
<p>Frame 0 Slot 8 Port 0 ONT-ID 0</p>
<pre><code>interface gpon <span class="hljs-number">0</span>/<span class="hljs-number">8</span>
ont add <span class="hljs-number">0</span> <span class="hljs-number">0</span> sn-auth <span class="hljs-string">"4857544308D8DD10"</span> omci ont-lineprofile-name LINE_PRF ont-srvprofile-name SRV_PRF desc SITE1
</code></pre><h2 id="create-service-port">Create service-port</h2>
<p>Provision ONT on PON Port 0/8/0 ONT-ID 0</p>
<pre>
service-port 627 vlan 326 gpon 0/8/0 ont 0 gemport 0 multi-service user-vlan 101 tag-transform translate inbound traffic-table name 160Mb outbound traffic-table name 160Mb
service-port 628 vlan 327 gpon 0/8/0 ont 0 gemport 1 multi-service user-vlan 102 tag-transform translate inbound traffic-table index 160Mb outbound traffic-table name 160Mb
</pre>



                      </div>
                    </div>
                    <!-- end post_info_wrapper -->
                  </div>
                  <!-- end post_body -->

                </article>

<!-- ============================ END CONTENT ============================================ -->

                <div class="author_info_container author_single_box">
                  <div class="row">
                    <div class="author_avatar_col col">
                      <a class="author_avatar_url" href="about"><img alt='' src='../../img/all-baggy.jpg' srcset='../../img/all-baggy.jpg' class='avatar avatar-150 photo' height='150' width='150' /></a>
                    </div>
                    <div class="author_info_col col">
                      <div class="author_box_info_header">
                        <h2 class="author_display_name title">
                          <a class="author_name_url url fn n" href="">Paul S.I. Basondole </a>
                        </h2>

                      </div>
                      <div class="author_description">
IT &amp; Network Expert / Lead <br>
Network & Automation designer; <br>
2x JNCIP (RS/SP) 1x CCNP (RS) <br>
BSc Telecommunications Eng.
                      </div>
                      <div class="stories_circles_wrapper"></div>
                    </div>
                  </div>
                </div>
              </div>
              <!-- close col12 just inside .full_width_list -->
            </div>
            <!-- close .full_width_list -->
            <!-- close col and row in case of sidebar layout -->
            <!-- end check for post layout -->
          </section>
          <!-- #primary -->
        </main>
        <!-- #content -->
        <footer id="colophon" class="site_footer container" role="contentinfo">
          <div class="footer_credits footers_active_sidebars_0">
            &copy; 2020 basondole.io
          </div>
          <div id="aliagototop" title="Scroll To Top" class="alia_gototop_button footer_button">
            <i class="fa fa-arrow-up"></i>
          </div>
        </footer>

        <!-- #colophon -->
      </div>
      <!-- .site_main_container -->
      <!-- start sliding sidebar content -->
     <!-- .site_main_container -->
      <!-- start sliding sidebar content -->
      <div class="sliding_close_helper_overlay"></div>
      <div class="site_side_container">
        <h3 class="screen-reader-text">
          Sliding Sidebar
        </h3>
        <div class="info_sidebar">
          <div class="top_header_items_holder mobile_menu_opened">
            <div class="main_menu">
              <ul id="mobile-menu" class="navbar">
                <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-318 default_menu">
                  <a href="index.html" class="local-root-page">Home</a>
                </li>
                <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-2788 default_menu">
                  <a href="https://github.com/basondole/mpls#introduction">Design</a>
                </li>
                <li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-2534 default_menu">
                  <a href="https://github.com/basondole/open#hocid">NET2CODE</a>
                </li>
                <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-has-children menu-item-320 dropdown default_menu">
                  <a href="blog.html" data-hover="dropdown" class="dropdown-toggle" class="local-root-page">Blog</a>
                  <ul role="menu" class=" dropdown-menu">
                    <li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-424 default_menu">
                      <a href="index.html">Collaboration</a>
                    </li>
                    <li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-3124 default_menu">
                      <a href="../networkauto/index.html">Network Automation</a>
                    </li>
                    <li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-425 default_menu">
                      <a href="https://github.com/basondole/tutorials">Network Servers</a>
                    </li>
                    <li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-425 default_menu">
                      <a href="https://github.com/basondole/netmanagement">Misc</a>
                    </li>
                  </ul>
                </li>
                <li id="menu-item-2056" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2056 default_menu"><a href="bgp.html" class="local-root-page">BGP</a></li>
                <li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-413 default_menu current-menu-item current_page_item active">
                  <a href="about.html" class="local-root-page">About</a>
                </li>
                <li class="menu-item menu-item-type-post_type menu-item-object-page page_item page-item-145 menu-item-412 default_menu">
                  <a href="contact.html" class="local-root-page">Contact</a>
                </li>
                <!-- <li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2056 default_menu">
                  <a href="http://karneliuk.com/donate/">Donate</a> -->
                </li>
              </ul>
            </div>
          </div>
          <!-- end .top_header_items_holder -->
        </div>
      </div>
      <!-- end sliding sidebar content -->
      <!-- start footer static content -->
      <!-- start footer static content -->
    </div>
    <!-- #page -->
    <div id="ajax_modal_story" class="ajax_modal ajax_modal_story modal enable_rotate">
      <div class="story_modal_overlay_helper"></div>
    </div>


    </script>

    <script type='text/javascript' src='../../karneliuk/global.1.35.js' class="local-root-js"></script>


    <script type='text/javascript'>
/* <![CDATA[ */
var alia_core_vars = { "ajax_load_story": "http:\/\/karneliuk.com\/wp-content\/plugins\/alia-core\/ajax-load-story.php", "ajax_rotate_story": "http:\/\/karneliuk.com\/wp-content\/plugins\/alia-core\/ajax-rotate-story.php" };
/* ]]> */
    </script>


    <script type='text/javascript' src='../../karneliuk/alia-core.1.13.js' class="local-root-js"></script>
    <script type='text/javascript' src='../../karneliuk/wp-embed.min.5.3.2.js' class="local-root-js"></script>

    
<script type="text/javascript">
  // edit the level variable, the load the page and copy the loaded DOM, NOT the source
  // to get updated paths throughout the dom
  
  var 
  localPagesFiles = document.getElementsByClassName("local-root-page"),
  localJsFiles = document.getElementsByClassName("local-root-js"),
  localCssFiles = document.getElementsByClassName("local-root-css"),
  localImagesFiles = document.getElementsByClassName("local-root-image");

  var level = "../../";

  function updatePaths() { 
    for (var i=0; i<localPagesFiles.length; i++) {
          var path = level + localPagesFiles[i].getAttribute("href");
          localPagesFiles[i].setAttribute("href",path);
          console.log(localPagesFiles[i].getAttribute("href"));
    }

    for (var i=0; i<localJsFiles.length; i++) {
          var path = level + localJsFiles[i].getAttribute("src");
          localJsFiles[i].setAttribute("src",path);
          console.log(localJsFiles[i].getAttribute("src"));
    }

    for (var i=0; i<localCssFiles.length; i++) {
          var path = level + localCssFiles[i].getAttribute("src");
          localCssFiles[i].setAttribute("src",path);
          // console.log(localJsFiles[i].getAttribute("src"));
    }

    for (var i=0; i<localImagesFiles.length; i++) {
          var path = level + localImagesFiles[i].getAttribute("src");
          localImagesFiles[i].setAttribute("src",path);
          // console.log(localJsFiles[i].getAttribute("src"));
    }
  }

  window.onload = function () {
   updatePaths();
  };

</script>

<script type="text/javascript">
  var localPagesFiles = document.getElementsByClassName("local-root-page");
function printId(event) {
  var myId = this.Id;
  console.log(myId);
}
for (var i=0; i<localPagesFiles.length; i++) {
       localPagesFiles[i].addEventListener("click",printId);
}
</script>




  </body>
</html>
