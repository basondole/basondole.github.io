<!DOCTYPE html>
<html lang="en-US" prefix="og: http://ogp.me/ns#" class="no-js no-svg">

<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">

<script>(function(html){html.className = html.className.replace(/\bno-js\b/,'js')})(document.documentElement);</script>

<title>basondole.io &#8211; Network design and development, 2x JNCIP (ENT/SP) 1x CCNP (RS), BSc.</title>

<link rel="profile" href="http://gmpg.org/xfn/11">
<link rel='dns-prefetch' href='//www.google.com' />
<link rel='dns-prefetch' href='//fonts.googleapis.com' />
<link rel='dns-prefetch' href='//s.w.org' />
<link crossorigin="anonymous" rel='stylesheet' id='alia-fonts-css'  href='https://fonts.googleapis.com/css?family=Roboto%3A400%2C400i%2C700%2C700i%7CPoppins%3A400%2C400i%2C700%2C700i&#038;subset=latin%2Clatin-ext' type='text/css' media='all' />


<link rel='stylesheet' id='wp-block-library-css'  href='../../karneliuk/style.min.5.3.2.css' type='text/css' media='all' />
<link rel='stylesheet' id='github-embed-css'  href='../../karneliuk/github-embed.5.3.2.css' type='text/css' media='all' />
<link rel='stylesheet' id='responsive-lightbox-swipebox-css'  href='../../karneliuk/swipebox.min.2.2.2.css' type='text/css' media='all' />
<link rel='stylesheet' id='alia-style-css'  href='../../karneliuk/alia.style.1.35.css' type='text/css' media='all' />
<link rel='stylesheet' id='fontawesome-css'  href='../../karneliuk/all.min.1.0.css' type='text/css' media='all' />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<link rel='stylesheet' id='codecolorer-css'  href='../../karneliuk/codecolorer.0.9.16.css' type='text/css' media='screen' />
<link rel="stylesheet" href="../../css/style1.css" />
<link rel="stylesheet" href="../../css/style2.css" />

<link rel="icon" href="http://karneliuk.com/wp-content/uploads/2019/10/cropped-logo_karneliuk_square-32x32.jpg" sizes="32x32" />
<link rel="icon" href="http://karneliuk.com/wp-content/uploads/2019/10/cropped-logo_karneliuk_square-192x192.jpg" sizes="192x192" />

<link rel='https://api.w.org/' href='../../karneliuk/wp-json' />


<script type='text/javascript' src='../../karneliuk/jquery-1.12.4-wp.js'></script>
<script type='text/javascript' src='../../karneliuk/jquery-migrate.min-1.4.1.js'></script>
<script type='text/javascript' src='../../karneliuk/ouibounce-5.3.2.js'></script>


<script type="text/javascript">
  window._wpemojiSettings = {"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/12.0.0-1\/72x72\/","ext":".png","svgUrl":"https:\/\/s.w.org\/images\/core\/emoji\/12.0.0-1\/svg\/","svgExt":".svg","source":{"concatemoji":"../../karneliuk/wp-emoji-release.min.5.3.2.js"}};
  !function(e,a,t){var r,n,o,i,p=a.createElement("canvas"),s=p.getContext&&p.getContext("2d");function c(e,t){var a=String.fromCharCode;s.clearRect(0,0,p.width,p.height),s.fillText(a.apply(this,e),0,0);var r=p.toDataURL();return s.clearRect(0,0,p.width,p.height),s.fillText(a.apply(this,t),0,0),r===p.toDataURL()}function l(e){if(!s||!s.fillText)return!1;switch(s.textBaseline="top",s.font="600 32px Arial",e){case"flag":return!c([127987,65039,8205,9895,65039],[127987,65039,8203,9895,65039])&&(!c([55356,56826,55356,56819],[55356,56826,8203,55356,56819])&&!c([55356,57332,56128,56423,56128,56418,56128,56421,56128,56430,56128,56423,56128,56447],[55356,57332,8203,56128,56423,8203,56128,56418,8203,56128,56421,8203,56128,56430,8203,56128,56423,8203,56128,56447]));case"emoji":return!c([55357,56424,55356,57342,8205,55358,56605,8205,55357,56424,55356,57340],[55357,56424,55356,57342,8203,55358,56605,8203,55357,56424,55356,57340])}return!1}function d(e){var t=a.createElement("script");t.src=e,t.defer=t.type="text/javascript",a.getElementsByTagName("head")[0].appendChild(t)}for(i=Array("flag","emoji"),t.supports={everything:!0,everythingExceptFlag:!0},o=0;o<i.length;o++)t.supports[i[o]]=l(i[o]),t.supports.everything=t.supports.everything&&t.supports[i[o]],"flag"!==i[o]&&(t.supports.everythingExceptFlag=t.supports.everythingExceptFlag&&t.supports[i[o]]);t.supports.everythingExceptFlag=t.supports.everythingExceptFlag&&!t.supports.flag,t.DOMReady=!1,t.readyCallback=function(){t.DOMReady=!0},t.supports.everything||(n=function(){t.readyCallback()},a.addEventListener?(a.addEventListener("DOMContentLoaded",n,!1),e.addEventListener("load",n,!1)):(e.attachEvent("onload",n),a.attachEvent("onreadystatechange",function(){"complete"===a.readyState&&t.readyCallback()})),(r=t.source||{}).concatemoji?d(r.concatemoji):r.wpemoji&&r.twemoji&&(d(r.twemoji),d(r.wpemoji)))}(window,document,window._wpemojiSettings);
</script>


<meta name="generator" content="WordPress 5.3.2" />

</head>




<body class="home blog sticky_header header_logo_rounded text_posts_unbordered masonry_effect_enabled show_menu_circle_idicator sliding_sidebar_inactive">

<div id="page" class="site">

  <div class="site_main_container">

    <header class="site_header">
      
    <div class="gray_header"  >
      <div class="container site_header">
        <div class="header_square_logo">
          <style>.site_logo_image { width : 120px; }.site_logo_image { height : 120px; }</style>
          <a class="alia_logo retina_logo" title="basondole.io" href="../../index.html" rel="home">
            <img  width=120 height=120 src="../../img/all-baggy.jpg" class="site_logo img-responsive site_logo_image clearfix" alt="basondole.github.io" /></a>
    
          <a class="alia_logo default_logo  has_retina_logo" title="basondole.io" href="../../index.html" rel="home">
          <img  width=120 height=120 src="../../img/all-baggy.jpg" class="site_logo img-responsive site_logo_image clearfix" alt="basondole.github.io" /></a>

          <h1 class="screen-reader-text site_logo site-title clearfix">basondole.io</h1>

        </div>

        <div class="header_tagline">
          Multivendor network design, development and automation for enterprise and service provider fabrics. Skills that matter
        </div>

        <div class="social_icons_list header_social_icons">
          <a rel="nofollow" target="" href="https://twitter.com/misterbigpaul" title="Twitter" class="social_icon widget_social_icon social_twitter social_icon_twitter"><i class="fa fa-twitter"></i></a>
          <a rel="nofollow" target="_blank" href="https://www.linkedin.com/in/paul-i-2b3013108" title="Linked In" class="social_icon widget_social_icon social_linkedin social_icon_linkedin"><i class="fa fa-linkedin"></i></a>
          <a rel="nofollow" target="_blank" href="https://github.com/basondole" title="Github" class="social_icon widget_social_icon social_github social_icon_github"><i class="fa fa-github"></i></a>

          <a rel="nofollow" target="_blank" href="https://stackoverflow.com/users/12078639/bassosimons" title="stackoverflow" class="social_icon widget_social_icon"><i class="fa fa-rss"></i></a>

        </div>
      </div>

    </div>
        
    <div class="header_nav_wrapper">

      <div class="header_nav">

        <div class="container">
          <div class="site_branding">
          <h1 class="text_logo"><a href="../../index.html" rel="home">basondole.io<span class="logo_dot"></span></a></h1>
          </div>
          

          <!-- Place header control before main menu if site title is enabled -->
          <div class="header_controls">

            <div class="header_sliding_sidebar_control header_control_wrapper">
              <a id="user_control_icon" class="sliding_sidebar_button" href="#">
                <i class="fa fa-bars header_control_icon"></i>
              </a>
            </div>
        
          </div>
    

          <div class="main_menu">
            <ul id="top-menu" class="navbar">
              <li id="menu-item-318" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-318 default_menu"><a href="../../index.html">Home</a></li>
              <li id="menu-item-2788" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-2788 default_menu"><a href="https://github.com/basondole/mpls#introduction">Design</a></li>
              <li id="menu-item-2534" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-2534 default_menu"><a href="https://github.com/basondole/open#hocid">NET2CODE</a></li>
              <li id="menu-item-320" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-has-children menu-item-320 dropdown default_menu current-menu-item current_page_item active"><a href="../../blog.html" data-hover="dropdown" class="dropdown-toggle">Blog</a>
                <ul role="menu" class=" dropdown-menu">
                  <li id="menu-item-424" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-424 default_menu"><a href="https://github.com/basondole/collaboration/blob/master/Setting%20up%20Cisco%20Call%20Manager.md#setting-up-cisco-call-manager-express">Collaboration</a></li>
                  <li id="menu-item-3124" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-3124 default_menu"><a href="../networkauto/index.html">Network Automation</a></li>
                  <li id="menu-item-425" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-425 default_menu"><a href="">Tools</a></li>
                  <!-- <li id="menu-item-425" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-425 default_menu"><a href="https://github.com/basondole/netmanagement">Misc</a></li> -->
                  <li id="menu-item-425" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-425 default_menu"><a href="../misc/index.html">misc</a></li>
                </ul>
              </li>
              <li id="menu-item-2056" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2056 default_menu"><a href="../../bgp.html">BGP</a></li>
              <li id="menu-item-413" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-413 default_menu"><a href="../../about.html">About</a></li>
              <li id="menu-item-412" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-412 default_menu"><a href="../../contact.html.html">Contact</a></li>
              <!-- <li id="menu-item-2056" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2056 default_menu"><a href="http://karneliuk.com/donate/">Donate</a></li> -->
            </ul>
            <span class="menu_mark_circle hidden_mark_circle"></span>
          </div>
              
        <!-- Place header control after main menu if site title is enabled -->
          
        </div><!-- end .container -->
      </div><!-- end .header_nav -->
    </div><!-- end .header_nav_wrapper -->
    </header>


        <main id="content" class="site-content">
          <section id="primary" class="container main_content_area">
            <!-- end check for post layout -->
            <div class="row full_width_page_single no_sidebar_post_single">
              <div>
                <!-- <article id="post-182" class="blog_page_container post-182 page type-page status-publish"> -->

                  <div class="page_body">

                    <!-- <div class="post_info_wrapper"> -->
                      <h1 style="text-align: center;">
                      <strong>Network Services Orchestrator, NSO</strong>
                      </h1>

  <p>NSO enabled by Tail-f (a Cisco company) provides end-to-end automation to design and deliver services much faster.
  It seamlessly integrates all of your infrastructure across different technologies, vendors.
  Learn more at <a href="https://developer.cisco.com/site/nso/">https://developer.cisco.com/site/nso/</a></p>
  <h2 id="downloading-the-nso">Downloading the NSO</h2>
  <p>Get the link for downloading nso from Cisco website then download the nso package</p>
  <pre>
  basondole@netbox:~$ mkdir nso
  basondole@netbox:~$ cd nso
  basondole@netbox:~/nso$ wget "https://devnet-filemedia-download.s3.amazonaws.com/119b2bc7-dbf6-49a1-974d-0a5610e41390/nso-5.1.0.1.linux.x86_64.signed.bin?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=AKIAXOWDCPZVVCGUYIRZ%2F20191113%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Date=20191113T130414Z&X-Amz-Expires=900&X-Amz-SignedHeaders=host&X-Amz-Signature=f66d3a819f755e24dfdb08844fb2e9d5fd676f28a518a3ab922347b302cda0b4" -O nso-5.1.0.1
  basondole@netbox:~/nso$ ls
  nso-5.1.0.1 
  basondole@netbox:~/nso$
  </pre>
  
  <h2 id="extract-the-package">Extract the package</h2>
  <pre>
  basondole@netbox:~/nso$ sh nso-5.1.0.1
  Unpacking...
  Verifying signature...
  Downloading CA certificate from http://www.cisco.com/security/pki/certs/crcam2.cer ...
  Successfully downloaded and verified crcam2.cer.
  Downloading SubCA certificate from http://www.cisco.com/security/pki/certs/innerspace.cer ...
  Successfully downloaded and verified innerspace.cer.
  Successfully verified root, subca and end-entity certificate chain.
  Successfully fetched a public key from tailf.cer.
  Successfully verified the signature of nso-5.1.0.1.linux.x86_64.installer.bin using tailf.cer
  
  basondole@netbox:~/nso$ ls
  cisco_x509_verify_release.py  nso-5.1.0.1.linux.x86_64.installer.bin            README.signature
  nso-5.1.0.1                   nso-5.1.0.1.linux.x86_64.installer.bin.signature  tailf.cer
  basondole@netbox:~/nso$
  </pre>
  
  <h2 id="installation">Installation</h2>
  <p>In this system, we&#39;ll install the nso in the home directory</p>
  <pre>
  basondole@netbox:~/nso$ sh nso-5.1.0.1.linux.x86_64.installer.bin $HOME/nso-5.1.0.1
  INFO  Using temporary directory /tmp/ncs_installer.2786 to stage NCS installation bundle
  INFO  Unpacked ncs-5.1.0.1 in /home/basondole/nso-5.1.0.1
  INFO  Found and unpacked corresponding DOCUMENTATION_PACKAGE
  INFO  Found and unpacked corresponding EXAMPLE_PACKAGE
  INFO  Generating default SSH hostkey (this may take some time)
  INFO  SSH hostkey generated
  INFO  Environment set-up generated in /home/basondole/nso-5.1.0.1/ncsrc
  INFO  NCS installation script finished
  INFO  Found and unpacked corresponding NETSIM_PACKAGE
  INFO  NCS installation complete
  
  basondole@netbox:~/nso$
  </pre>
  
  <h4 id="incase-of-a-python-error">Incase of a python error</h4>
  <pre>
  basondole@netbox:~/nso$ sh nso-5.1.0.1
  Unpacking...
  <b>ERROR Verification requires Python version 2.7.4 or later.
  ERROR</b>
  </pre>
  To overcome this do a python install then extrat the file again
  <pre>
  basondole@netbox:~/nso$ sudo apt install python
  .
  .
  basondole@netbox:~/nso$ sh nso-5.1.0.1.linux.x86_64.installer.bin $HOME/nso-5.1.0.1
  </pre>
  
  <h2 id="running-the-nso">Running the nso</h2>
  <pre>
  basondole@netbox:~/nso$ cd ..
  basondole@netbox:~$ ls
  nso  nso-5.1.0.1
  basondole@netbox:~$ source $HOME/nso-5.1.0.1/ncsrc
  basondole@netbox:~$ ncs-setup --dest $HOME/ncs-run
  basondole@netbox:~$ ls
  ncs-run  nso  nso-5.1.0.1
  basondole@netbox:~$ cd ncs-run/
  basondole@netbox:~/ncs-run$ ls
  logs  ncs-cdb  ncs.conf  packages  README.ncs  scripts  state
  basondole@netbox:~/ncs-run$ ncs ! takes a minute to start
  basondole@netbox:~/ncs-run$ ncs --status
  basondole@netbox:~/ncs-run$ ncs --version
  5.1.0.1
  basondole@netbox:~/ncs-run$ ncs --status | grep status
  status: started
  basondole@netbox:~/ncs-run$
  </pre>
  
  <h2 id="accessing-the-nso">Accessing the nso</h2>
  <p>The NSO offers a frontend UI which can be accessed via a web browser via <code>http://192.168.56.20:8080/login.html</code><br>Where <code>192.168.56.20</code> is my server address<br>The default login credentials:<br><code>username: admin</code><br><code>password: admin</code></p>
  <h3 id="to-access-the-nso-via-cli">To access the nso via CLI</h3>
  <pre>
  basondole@netbox:~/ncs-run$ ncs_cli -u admin -C
  
  admin connected from 192.168.56.1 using ssh on netbox
  admin@ncs# exit
  basondole@netbox:~/ncs-run$
  </pre>
  
  
  <h2 id="configuration">Configuration</h2>
  <p>To enable pasting of multiple lines of text in the ncs cli add below lines in the ncs config file</p>
  <p><code>basondole@netbox:~/ncs-run$ nano ncs.conf</code></p>
  <pre><code><span class="hljs-tag">&lt;<span class="hljs-name">enabled</span>&gt;</span>true<span class="hljs-tag">&lt;/<span class="hljs-name">enabled</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">space-completion</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">enabled</span>&gt;</span>false<span class="hljs-tag">&lt;/<span class="hljs-name">enabled</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">space-completion</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">ignore-leading-whitespace</span>&gt;</span>true<span class="hljs-tag">&lt;/<span class="hljs-name">ignore-leading-whitespace</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">auto-wizard</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">enabled</span>&gt;</span>false<span class="hljs-tag">&lt;/<span class="hljs-name">enabled</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">auto-wizard</span>&gt;</span>
  </code></pre><p>To offer support for a range of multivendor devices, NSO uses Network Element Drivers (NEDs).
  Using NEDs, NSO makes device configuration commands available over a network wide, multivendor Command Line Interface (CLI), APIs, and user interface<br>Learn more at <a href="https://www.cisco.com/c/en/us/products/collateral/cloud-systems-management/network-services-orchestrator/datasheet-c78-734669.html">https://www.cisco.com/c/en/us/products/collateral/cloud-systems-management/network-services-orchestrator/datasheet-c78-734669.html</a></p>
  <p>To verify the pre installed NEDs on your system</p>
  <pre>
  basondole@netbox:~/ncs-run$ cd $NCS_DIR
  basondole@netbox:~/nso-5.1.0.1$ ls packages/
  lsa  neds  services  tools
  basondole@netbox:~/nso-5.1.0.1$ ls packages/neds/
  a10-acos-cli-3.0  cisco-ios-cli-3.0  cisco-iosxr-cli-3.0  cisco-nx-cli-3.0   juniper-junos-nc-3.0
  alu-sr-cli-3.4    cisco-ios-cli-3.8  cisco-iosxr-cli-3.5  dell-ftos-cli-3.0
  basondole@netbox:~/nso-5.1.0.1$
  </pre>
  
  <p>To verif whether the packages are loaded in the ncs</p>
  <pre>
  basondole@netbox:~/ncs-run$ ncs_cli -u admin -C
  admin connected from 192.168.56.1 using ssh on netbox
  admin@ncs# show packages
  % No entries found.
  admin@ncs# exit
  </pre>
  
  <p>If they are not loaded as seen above you can issue a reload command in the ncs</p>
  <pre>
  basondole@netbox:~/ncs-run$ ncs_cli -u admin -C
  
  admin connected from 192.168.56.1 using ssh on netbox
  admin@ncs# show packages
  <b>% No entries found.</b>
  admin@ncs# packages reload
  
  >>> System upgrade is starting.
  >>> Sessions in configure mode must exit to operational mode.
  >>> No configuration changes can be performed until upgrade has completed.
  >>> System upgrade has been cancelled.
  <b>Error: User java class "com.tailf.packages.ned.ios.UpgradeNedId" exited with status 127</b>
  admin@ncs# show packages
  <b>% No entries found.</b>
  admin@ncs# exit
  </pre>
  
  <p>If you run into this error confirm you have java installed and if not install java</p>
  <pre>
  basondole@netbox:~/ncs-run$ java -version
  
  Command 'java' not found, but can be installed with:
  
  sudo apt install default-jre
  sudo apt install openjdk-11-jre-headless
  sudo apt install openjdk-8-jre-headless
  
  basondole@netbox:~/ncs-run$ sudo apt-get update -y
  .
  .
  basondole@netbox:~/ncs-run$ sudo apt-get install openjdk-11-jre -y
  .
  .
  basondole@netbox:~/ncs-run$ sudo apt-get install ant -y
  .
  .
  basondole@netbox:~/ncs-run$ java -version
  openjdk version "11.0.5" 2019-10-15
  OpenJDK Runtime Environment (build 11.0.5+10-post-Ubuntu-0ubuntu1.118.04)
  OpenJDK 64-Bit Server VM (build 11.0.5+10-post-Ubuntu-0ubuntu1.118.04, mixed mode, sharing)
  </pre>
  
  <p>Also confirm the packages are available on the directory you are running NSO from
  in my case I&#39;m running NSO from <code>~/ncs-run</code></p>
  <pre>
  basondole@netbox:~/ncs-run$ ls packages/
  basondole@netbox:~/ncs-run$
  </pre>
  
  <p>If the package directory is empty copy the NEDs from the <code>$NCS_DIR</code> directory</p>
  <pre>
  basondole@netbox:~/ncs-run$ cp -r ~/nso-5.1.0.1/packages/neds/* ./packages/
  basondole@netbox:~/ncs-run$ ls packages/
  cisco-ios-cli-3.0  cisco-iosxr-cli-3.0  cisco-nx-cli-3.0
  cisco-ios-cli-3.8  cisco-iosxr-cli-3.5  juniper-junos-nc-3.0
  </pre>
  
  <p>Login to the ncs and reload the packages</p>
  <pre>
  basondole@netbox:~/ncs-run$ ncs_cli -u admin -C
  admin@ncs# packages reload
  .
  reload-result {
      package cisco-iosxr-cli-3.5
      result false
      <b>info --ERROR--</b>
  }
  reload-result {
      package cisco-nx-cli-3.0
      result false
      <b>info --ERROR--</b>
  }
  reload-result {
      package dell-ftos-cli-3.0
      result false
      <b>info --ERROR--</b>
  }
  reload-result {
      package juniper-junos-nc-3.0
      <b>result true</b>
  }
  basondole@ncs# show packages package oper-status
                                                                                           PACKAGE
                            PROGRAM                                                        META     FILE
                            CODE     JAVA           BAD NCS  PACKAGE  PACKAGE  CIRCULAR    DATA     LOAD   ERROR
  NAME                  UP  ERROR    UNINITIALIZED  VERSION  NAME     VERSION  DEPENDENCY  ERROR    ERROR  INFO
  ----------------------------------------------------------------------------------------------------------------
  cisco-ios-cli-3.0     -   -        X              -        -        -        -           -        -      -
  cisco-nx-cli-3.0      -   -        X              -        -        -        -           -        -      -
  cisco-iosxr-cli-3.0   -   -        X              -        -        -        -           -        -      -
  dell-ftos-cli-3.0     -   -        X              -        -        -        -           -        -      -
  juniper-junos-nc-3.0  X   -        -              -        -        -        -           -        -      -
  
  basondole@ncs# exit
  </pre>
  
  <p>From above we see we had errors loading a couple of NEDs with <code>java unitialized</code> status
  The issue here is very likely related to the JavaVM, since all the Java packages are failing,
  while the Junos NETCONF NED (which doesn&#39;t use any Java) is fine.
  Since we have quite a few NEDs, the issue is almost certainly that the JavaVM is out of memory/heap space.</p>
  <p>To check the java-vm log on ncs   <code>basondole@netbox:~/ncs-run$ less logs/ncs-java-vm.log</code></p>
  <p>To fix the memory problem in my case since my server has 2GB of RAM, I assigned 1GB of memory to java.<br><code>basondole@netbox:~/ncs-run$ export NCS_JAVA_VM_OPTIONS=-Xmx1G</code><br>You can add this to your <code>.bash_profile</code> so that it is done automatically everytime you log in </p>
  <p>We then relaunch the ncs</p>
  <pre>
  basondole@netbox:~/ncs-run$ ncs --stop
  basondole@netbox:~/ncs-run$ ncs
  basondole@netbox:~/ncs-run$ ncs_cli -C
  
  basondole connected from 192.168.56.1 using ssh on netbox
  
  basondole@ncs# packages reload
  
  >>> System upgrade is starting.
  >>> Sessions in configure mode must exit to operational mode.
  >>> No configuration changes can be performed until upgrade has completed.
  >>> System upgrade has completed successfully.
  .
  .
  reload-result {
      package cisco-iosxr-cli-3.0
      <b>result true</b>
  }
  reload-result {
      package cisco-iosxr-cli-3.5
      <b>result true</b>
  }
  reload-result {
      package juniper-junos-nc-3.0
      <b>result true</b>
  }
  basondole@ncs#
  basondole@ncs# show packages package oper-status
                                                                                           PACKAGE
                            PROGRAM                                                        META     FILE
                            CODE     JAVA           BAD NCS  PACKAGE  PACKAGE  CIRCULAR    DATA     LOAD   ERROR
  NAME                  UP  ERROR    UNINITIALIZED  VERSION  NAME     VERSION  DEPENDENCY  ERROR    ERROR  INFO
  ----------------------------------------------------------------------------------------------------------------
  cisco-ios-cli-3.0     X   -        -              -        -        -        -           -        -      -
  cisco-ios-cli-3.8     X   -        -              -        -        -        -           -        -      -
  cisco-iosxr-cli-3.0   X   -        -              -        -        -        -           -        -      -
  cisco-iosxr-cli-3.5   X   -        -              -        -        -        -           -        -      -
  cisco-nx-cli-3.0      X   -        -              -        -        -        -           -        -      -
  juniper-junos-nc-3.0  X   -        -              -        -        -        -           -        -      -
  
  basondole@ncs# exit
  basondole@netbox:~/ncs-run$
  </pre>
  
  <h2 id="adding-the-auth-group-to-the-ncs">Adding the auth group to the ncs</h2>
  <p>Before we can add devices in the ncs we have to define an authentication group</p>
  <pre>
  admin@ncs# config
  admin@ncs(config)# devices authgroups group GROUP01
  admin@ncs(config-group-GROUP01)# default-map remote-name fisi
  admin@ncs(config-group-GROUP01)# default-map remote-password fisi123
  admin@ncs(config-group-GROUP01)# top
  admin@ncs(config)# commit check
  <b>Validation complete</b>
  admin@ncs(config)# show configuration diff
  +devices authgroups group GROUP01
  + default-map remote-name fisi
  + default-map remote-password $8$1SgUsPkoEaFvTwK02flfv5Ta5ut9WBf+I1m+OaTo8vQ=
  +!
  admin@ncs(config)# commit
  <b>Commit complete.</b>
  
  admin@ncs(config)# do show configuration commit list
  2019-12-24 13:53:45
  SNo. ID       User       Client      Time Stamp          Label       Comment
  ~~~~ ~~       ~~~~       ~~~~~~      ~~~~~~~~~~          ~~~~~       ~~~~~~~
  1000 10002    admin      cli         2019-12-24 13:51:41
  1000 10001    system     system      2019-11-13 13:42:45
  </pre>
  
  
  <h2 id="configuring-devices-for-nso">Configuring devices for nso</h2>
  <blockquote>
  <p>Configuration is pulled from devices I used on my presentation at Pycon Tanzania Dec 2019 excuse the use of pycon for hostnames  </p>
  </blockquote>
  <p>Cisco IOS XR</p>
  <pre>
  RP/0/0/CPU0:pycon-iosxr(config)#show configuration 
  Tue Dec 24 14:10:36.560 UTC
  Building configuration...
  username fisi
   secret 5 $1$UV0J$uNLTpu2nr6K2ZhY7z2cks/
  ssh server v2
  ssh server netconf port 830
  ssh server logging
  netconf-yang agent ssh
  RP/0/0/CPU0:pycon-iosxr(config)#commit
  RP/0/0/CPU0:pycon-iosxr(config)#exit
  RP/0/0/CPU0:pycon-iosxr#crypto key generate rsa 
  </pre>
  
  <p>JunOS</p>
  <pre>
  fisi@pycon-junos> show configuration system services
  ssh;
  netconf {
      ssh;
  }
  
  fisi@pycon-junos> show configuration system login user fisi
  uid 2000;
  class super-user;
  authentication {
      encrypted-password "$1$ty9HKQjx$n3zBLWY5HgycHOQW2/epX/"; ## SECRET-DATA
  }
  </pre>
  
  <p>Cisco IOS<br>Only configure ssh</p>
  <h2 id="adding-a-cisco-ios-xr-device-to-nso">Adding a cisco ios xr device to nso</h2>
  <pre>
  admin@ncs(config)# devices device pycon-iosxr
  admin@ncs(config-device-pycon-iosxr)# address 192.168.56.65
  admin@ncs(config-device-pycon-iosxr)# authgroup GROUP01
  admin@ncs(config-device-pycon-iosxr)# device-type cli ned-id cisco-iosxr-cli-3.5
  admin@ncs(config-device-pycon-iosxr)# device-type cli protocol ssh
  admin@ncs(config-device-pycon-iosxr)# state admin-state unlocked
  admin@ncs(config-device-pycon-iosxr)# top
  admin@ncs(config)# commit check
  Validation complete
  admin@ncs(config)# show configuration diff
  +devices device pycon-iosxr
  + address   192.168.56.65
   !
  +devices authgroups group GROUP01
  + default-map remote-name fisi
  + default-map remote-password $8$1SgUsPkoEaFvTwK02flfv5Ta5ut9WBf+I1m+OaTo8vQ=
  +!
   devices device pycon-iosxr
  + authgroup GROUP01
  + device-type cli ned-id cisco-iosxr-cli-3.0
  + device-type cli protocol ssh
  + state admin-state unlocked
  + config
  +  no ios:service pad
  +  no ios:ip domain-lookup
  +  no ios:service password-encryption
  +  no ios:cable admission-control preempt priority-voice
  +  no ios:cable qos permission create
  +  no ios:cable qos permission update
  +  no ios:cable qos permission modems
  +  no ios:ip cef
  +  no ios:ip forward-protocol nd
  +  no ios:ipv6 source-route
  +  no ios:ipv6 cef
  +  no nx:feature ssh
  +  no nx:feature telnet
  + !
  +!
  admin@ncs(config)# commit
  Commit complete.
  
  admin@ncs(config)# do show running-config | begin pycon
  devices device pycon-iosxr
   address   192.168.56.65
   authgroup GROUP01
   device-type cli ned-id cisco-iosxr-cli-3.0
   device-type cli protocol ssh
   state admin-state unlocked
   config
    no ios:service pad
    no ios:ip domain-lookup
    no ios:service password-encryption
    no ios:cable admission-control preempt priority-voice
    no ios:cable qos permission create
    no ios:cable qos permission update
    no ios:cable qos permission modems
    no ios:ip cef
    no ios:ip forward-protocol nd
    no ios:ipv6 source-route
    no ios:ipv6 cef
    no nx:feature ssh
    no nx:feature telnet
  .
  .
  
  admin@ncs# show devices brief
  NAME         ADDRESS        DESCRIPTION  NED ID
  ------------------------------------------------------------
  pycon-iosxr  192.168.56.65  -            cisco-iosxr-cli-3.0
  
  </pre>
  
  <p>After adding the device we fetch its ssh keys and then <code>sync-from</code> so as to sychronise the device config to the ncs database</p>
  <pre>
  admin@ncs# devices device pycon-iosxr ssh fetch-host-keys
  result updated
  fingerprint {
      algorithm ssh-rsa
      value f6:46:c1:32:19:24:ff:21:e6:ac:0f:85:78:94:77:40
  }
  
  admin@ncs# devices device pycon-iosxr ping
  result PING 192.168.56.65 (192.168.56.65) 56(84) bytes of data.
  64 bytes from 192.168.56.65: icmp_seq=1 ttl=255 time=6.24 ms
  
  --- 192.168.56.65 ping statistics ---
  1 packets transmitted, 1 received, 0% packet loss, time 0ms
  rtt min/avg/max/mdev = 6.246/6.246/6.246/0.000 ms
  
  admin@ncs# devices device pycon-iosxr sync-from
  result true
  admin@ncs#
  admin@ncs# show devices device pycon-iosxr config
  config
   yanglib:modules-state module-set-id 762f393abd3986410711f2cf22587ccd
   yanglib:modules-state module tailf-ned-cisco-ios-xr 2014-02-18
    namespace        http://tail-f.com/ned/cisco-ios-xr
    conformance-type implement
  admin@ncs#
  </pre>
  
  <p>Now after synching the config from the router to the ncs database, we logon to the router and change configuration</p>
  <pre>
  RP/0/0/CPU0:pycon-iosxr(config)#username baggy
  RP/0/0/CPU0:pycon-iosxr(config-un)#show commi chan diff
  Tue Dec 24 14:45:24.827 UTC
  Building configuration...
  !! IOS XR Configuration 5.3.0
  +  username baggy
     !
  end
  
  RP/0/0/CPU0:pycon-iosxr(config-un)#commit
  </pre>
  
  <p>Then we check with the ncs to see what has changed</p>
  <pre>
  admin@ncs# devices device pycon-iosxr compare-config
  diff
   devices {
       device pycon-iosxr {
           config {
  +            cisco-ios-xr:username baggy {
  +            }
           }
       }
   }
  admin@ncs#
  </pre>
  
  <p>We see the config that we added on the router is displayed, this is the diff between the actual config on the device and
  the config on the ncs database. Here we can either <code>sync-from</code> this device to update the ncs copy of the config or <code>sync-to</code>
  to push the config from ncs to the device and removing the added config. 
  In this case we synced from the device however this was done via web ui.</p>
  <p>Back on the device we revert the change and remove the username</p>
  <pre>
  
  
  RP/0/0/CPU0:pycon-iosxr(config)#load rollback changes last 1
  Building configuration...
  Loading.
  53 bytes parsed in 1 sec (51)bytes/sec
  RP/0/0/CPU0:pycon-iosxr(config)#show commi chan diff        
  Tue Dec 24 14:50:27.226 UTC
  Building configuration...
  !! IOS XR Configuration 5.3.0
  -  username baggy
  end
  
  RP/0/0/CPU0:pycon-iosxr(config)#commit
  </pre>
  
  <p>Then we check with ncs to see what&#39;s changed. The <code>dry-run</code> option allows us to preview of what would happen if we are to sync the config but with this option the ncs doesnt actually sync the config. After the dry run we then sync the config from device to ncs database
  We can use the <code>show run</code> command to check the synced config</p>
  <pre>
  admin@ncs# devices device pycon-iosxr sync-from dry-run
  cli  config {
       -    cisco-ios-xr:username baggy {
       -    }
        }
  
  admin@ncs# devices device pycon-iosxr sync-from
  result true
  admin@ncs#
  admin@ncs# show running-config devices device pycon-iosxr
  </pre>
  
  
  <h2 id="adding-an-ios-device">Adding an ios device</h2>
  <pre>
  devices device pycon-ios
   address   192.168.56.63
   authgroup GROUP01
   device-type cli ned-id cisco-ios-cli-3.0
   device-type cli protocol ssh
   state admin-state unlocked
  top
  commit
  devices device pycon-ios ssh fetch-host-keys
  devices device pycon-ios sync-from
  </pre>
  
  <h2 id="adding-a-junos-device">Adding a Junos device</h2>
  <pre>
  devices device big
   address   192.168.56.36
   authgroup GROUP01
   device-type netconf ned-id juniper-junos-nc-3.0
   state admin-state unlocked
  top
  commit
  devices device big ssh fetch-host-keys
  devices device big sync-from
  </pre>
  
  <p>Configuring junos device</p>
  <blockquote>
  <p>In this snippet we will configure an <code>apply-group</code> and apply it in the junos device</p>
  </blockquote>
  <pre>
  admin@ncs(config)# devices device big config
  admin@ncs(config-config)# junos:configuration groups PYCON
  admin@ncs(config-groups-PYCON)# system login
  admin@ncs(config-groups-PYCON)# system login class pycon-su
  admin@ncs(config-class-pycon-su)# logical-system pycon-junos
  admin@ncs(config-class-pycon-su)# permissions all
  admin@ncs(config-class-pycon-su)# exit
  admin@ncs(config-groups-PYCON)# system login user pycon class pycon-su
  admin@ncs(config-user-pycon)# uid 2009
  admin@ncs(config-user-pycon)# authentication encrypted-password "$1$bq.XK5AI$33.xHE4FRDm30frQY.9gx0"
  admin@ncs(config-user-pycon)# exit
  admin@ncs(config-groups-PYCON)# exit
  admin@ncs(config-config)# junos:configuration apply-groups PYCON
  admin@ncs(config-config)# exit
  admin@ncs(config-device-big)# exit
  admin@ncs(config)# show configuration devices device big
  devices device big
   config
    junos:configuration apply-groups [ PYCON ]
    junos:configuration groups PYCON
     system login class pycon-su
      logical-system pycon-junos
      permissions    [ all ]
     !
     system login user pycon
      uid   2009
      class pycon-su
      authentication encrypted-password $1$bq.XK5AI$33.xHE4FRDm30frQY.9gx0
      authentication ssh-rsa "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQCZGRQBprO0LQeiUDW2hR7Yfj3DIF5MbBiG+3/ZyuedS0shbSwxLOMBNhU7MAuXKVuvtzAsFy/IAKN41LhSvq7ppg0Bq+qMsxKJ8U8BY0svM+Hzpe+fJIfJz6R2dp+R79t+EYRR1UdYQO60I2fUdIgazR1AHV1H/6fO/TNXykI2PsqeXSfrTo8Li/WAyRt+1C+U6LPUO5OnkbP+cJxeqtDPkz1I2I7d4izonbmCrIegIGlGpx1ib2/WmqkpX+r0+iqrCQll7TvM73yduC31qMks/g+ncfeuVQPHdLsTlmNWt3MlLCCo+/lVbsMZJuAs38cn4UfpE78qdGY00r4MHIlJ paul@LWBS-STZ-150YNL;"
      !
     !
    !
   !
  !
  admin@ncs(config)#
  admin@ncs(config)# show configuration diff
   devices device big
    config
  +  junos:configuration apply-groups [ PYCON ]
  +  junos:configuration groups PYCON
  +   system login class pycon-su
  +    logical-system pycon-junos
  +    permissions    [ all ]
  +   !
  +   system login user pycon
  +    uid   2009
  +    class pycon-su
  +    authentication encrypted-password $1$bq.XK5AI$33.xHE4FRDm30frQY.9gx0
  +    authentication ssh-rsa "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQCZGRQBprO0LQeiUDW2hR7Yfj3DIF5MbBiG+3/ZyuedS0shbSwxLOMBNhU7MAuXKVuvtzAsFy/IAKN41LhSvq7ppg0Bq+qMsxKJ8U8BY0svM+Hzpe+fJIfJz6R2dp+R79t+EYRR1UdYQO60I2fUdIgazR1AHV1H/6fO/TNXykI2PsqeXSfrTo8Li/WAyRt+1C+U6LPUO5OnkbP+cJxeqtDPkz1I2I7d4izonbmCrIegIGlGpx1ib2/WmqkpX+r0+iqrCQll7TvM73yduC31qMks/g+ncfeuVQPHdLsTlmNWt3MlLCCo+/lVbsMZJuAs38cn4UfpE78qdGY00r4MHIlJ paul@LWBS-STZ-150YNL;"
  +    !
  +   !
  +  !
    !
   !
  admin@ncs(config)#
  admin@ncs(config)# devices device big check-sync
  result out-of-sync
  info got: 2019-12-24 20:07:03 UTC expected: 2019-12-24 19:24:50 UTC
  
  admin@ncs(config)# commit no-out-of-sync-check
  Commit complete.
  admin@ncs(config)# devices device big check-sync
  result unknown
  admin@ncs(config)# devices device big sync-to
  result true
  admin@ncs(config)# devices device big check-sync
  result in-sync
  </pre>
  
  <p>You will notice the config flow is not exactly what we are used to with a junos device
  however it follows the same hierarchy with <code>junos:configuration</code> being the top level of the config
  from which we can go to any other sub stanza and get a corresponding prompt for that
  for example the command <code>junos:configuration groups PYCON</code> gets us to the <code>(config-groups-PYCON)</code> prompt
  same as <code>edit groups PYCON</code> would take us to <code>[edit groups PYCON]</code> on the JunoS CLI.</p>
  <p>We now logon to the junos device and check the config that&#39;s been pushed from the nso</p>
  <pre>
  fisi@big> show system commit | match ^0
  0   2019-12-24 20:07:57 UTC by fisi via netconf
  
  fisi@big> show configuration groups
  PYCON {
      system {
          login {
              class pycon-su {
                  logical-system pycon-junos;
                  permissions all;
              }
              user pycon {
                  uid 2009;
                  class pycon-su;
                  authentication {
                      encrypted-password "$1$bq.XK5AI$33.xHE4FRDm30frQY.9gx0"; ## SECRET-DATA
                      ssh-rsa "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQCZGRQBprO0LQeiUDW2hR7Yfj3DIF5MbBiG+3/ZyuedS0shbSwxLOMBNhU7MAuXKVuvtzAsFy/IAKN41LhSvq7ppg0Bq+qMsxKJ8U8BY0svM+Hzpe+fJIfJz6R2dp+R79t+EYRR1UdYQO60I2fUdIgazR1AHV1H/6fO/TNXykI2PsqeXSfrTo8Li/WAyRt+1C+U6LPUO5OnkbP+cJxeqtDPkz1I2I7d4izonbmCrIegIGlGpx1ib2/WmqkpX+r0+iqrCQll7TvM73yduC31qMks/g+ncfeuVQPHdLsTlmNWt3MlLCCo+/lVbsMZJuAs38cn4UfpE78qdGY00r4MHIlJ paul@LWBS-STZ-150YNL;"; ## SECRET-DATA
                  }
              }
          }
      }
  }
  
  fisi@big> show configuration apply-groups
  ## Last commit: 2019-12-24 20:07:57 UTC by fisi
  apply-groups PYCON;
  
  fisi@big>
  </pre>
  
  <p>From the above example we see the confiuration has indeed taken effect on the device.
  This operation was done via the ncs CLI but we can achieve the same effect via the web frontend as well.</p>


  <h3>Netsim</h3>

  Netsim offers emulated devices that can be used with the NSO mainly for testing and development.

  <h4 id="creating-an-emulated-device">Creating an emulated device</h4>
  <pre>
  basondole@netbox:~/nso/ncs-run$ ls packages/
  cisco-ios-cli-3.8  cisco-iosxr-cli-3.5  juniper-junos-nc-3.0
  cisco-ios-cli-3.0  cisco-iosxr-cli-3.0  cisco-nx-cli-3.0
  basondole@netbox:~/nso/ncs-run$ cd myownnetsim/
  basondole@netbox:~/nso/ncs-run/myownnetsim$
  basondole@netbox:~/nso/ncs-run/myownnetsim$ mkdir iosxr
  basondole@netbox:~/nso/ncs-run/myownnetsim$ cd iosxr
  basondole@netbox:~/nso/ncs-run/myownnetsim/iosxr$ ncs-netsim create-device cisco-iosxr-cli-3.5 iosxr
  <b>DEVICE iosxr CREATED</b>
  basondole@netbox:~/nso/ncs-run/myownnetsim/iosxr/$ ls
  netsim
  </pre>
  
  <p>To start the emulated device</p>
  <pre>
  basondole@netbox:~/nso/ncs-run/myownnetsim/iosxr/netsim$ cd netsim/
  basondole@netbox:~/nso/ncs-run/myownnetsim/iosxr/netsim$ ls
  iosxr  README.netsim
  basondole@netbox:~/nso/ncs-run/myownnetsim/iosxr/netsim$ ncs-netsim start
  DEVICE iosxr OK STARTED
  </pre>
  
  <p>To check if the device is running</p>
  <pre>
  basondole@netbox:~/nso/ncs-run/myownnetsim/iosxr/netsim$ ncs-netsim is-alive iosxr
  DEVICE iosxr OK
  basondole@netbox:~/nso/ncs-run/myownnetsim/iosxr/netsim$
  </pre>
  
  <p>To get the port being used by device</p>
  <pre>
  basondole@netbox:~/nso/ncs-run/myownnetsim/iosxr/netsim$ ncs-netsim list
  ncs-netsim list for  /home/basondole/nso/ncs-run/myownnetsim/iosxr/netsim
  
  name=iosxr netconf=12022 snmp=11022 ipc=5010 <b>cli=10022</b> \
  dir=/home/basondole/nso/ncs-run/myownnetsim/iosxr/netsim/iosxr/iosxr
  
  basondole@netbox:~/nso/ncs-run/myownnetsim/iosxr/netsim$ ncs-netsim get-port iosxr cli
  <b>10022</b>
  basondole@netbox:~/nso/ncs-run/myownnetsim/iosxr/netsim$
  </pre>
  
  <p>Connecting to the device</p>
  <pre>
  basondole@netbox:~/nso/ncs-run/myownnetsim/iosxr/netsim$ ncs-netsim cli-i iosxr
  
  admin connected from 192.168.56.1 using ssh on netbox
  netbox> enable
  netbox# show version
  Cisco IOS XR Software, NETSIM
  netbox# exit
  basondole@netbox:~/nso/ncs-run/myownnetsim/iosxr/netsim$
  </pre>
  
  <h3 id="adding-the-device-to-the-nso">Adding the device to the nso</h3>
  <pre>
  basondole@netbox:~/nso/ncs-run/myownnetsim/iosxr/netsim$ ncs_cli -C
  
  basondole connected from 192.168.56.1 using ssh on netbox
  basondole@ncs# config
  Entering configuration mode terminal
  basondole@ncs(config)# devices device netsim address 127.0.0.1 port 10022 
  basondole@ncs(config-device-netsim)# device-type cli ned-id cisco-iosxr-cli-3.5 protocol ssh
  basondole@ncs(config-device-netsim)# authgroup default state admin-state unlocked
  basondole@ncs(config-device-netsim)# commit
  basondole@ncs(config-device-netsim)# top
  basondole@ncs(config)# devices device netsim ssh fetch-host-keys
  <b>result failed</b>
  <b>info internal error</b>
  basondole@ncs(config)# exit
  basondole# exit
  </pre>
  
  <p>We have run into an error when fetching the host key.
  To fix this we have to make sure the right keys are existing in the emulated device ssh directory.
  The easy fix is to copy the keys from <code>$NCS_DIR/netsim/confd/etc/confd/ssh/</code> to our emulated device ssh directory</p>
  <pre>
  basondole@netbox:~/nso/ncs-run/myownnetsim/iosxr/netsim$ cp $NCS_DIR/netsim/confd/etc/confd/ssh/ssh_host_rsa_key.pub iosxr/iosxr/ssh/ssh_host_rsa_key.pub
  basondole@netbox:~/nso/ncs-run/myownnetsim/iosxr/netsim$ diff $NCS_DIR/netsim/confd/etc/confd/ssh/ssh_host_rsa_key.pub iosxr/iosxr/ssh/ssh_host_rsa_key.pub
  basondole@netbox:~/nso/ncs-run/myownnetsim/iosxr/netsim$ cp $NCS_DIR/netsim/confd/etc/confd/ssh/ssh_host_rsa_key iosxr/iosxr/ssh/ssh_host_rsa_key
  basondole@netbox:~/nso/ncs-run/myownnetsim/iosxr/netsim$ diff $NCS_DIR/netsim/confd/etc/confd/ssh/ssh_host_rsa_key iosxr/iosxr/ssh/ssh_host_rsa_key
  </pre>
  
  <p>Then we restart the nso and the emulated device then fetch the keys again</p>
  <pre>
  basondole@netbox:~/nso/ncs-run$ ncs --stop
  basondole@netbox:~/nso/ncs-run$ ncs-netsim stop --dir myownnetsim/iosxr/netsim
  <b>DEVICE iosxr STOPPED</b>
  basondole@netbox:~/nso/ncs-run$ ncs
  basondole@netbox:~/nso/ncs-run$ ncs-netsim start --dir myownnetsim/iosxr/netsim
  <b>DEVICE iosxr OK STARTED</b>
  basondole@netbox:~/nso/ncs-run$ ncs_cli -C -u admin
  
  admin connected from 192.168.56.1 using ssh on netbox
  admin@ncs# conf
  Entering configuration mode terminal
  admin@ncs(config)# devices device netsim ssh fetch-host-keys
  <b>result updated</b>
  fingerprint {
      algorithm ssh-rsa
      value ff:18:c0:6b:8b:fa:04:d4:8c:ed:91:ce:25:66:e9:df
  }
  admin@ncs(config)#
  </pre>
  
  <h3 id="adding-multiple-devices">Adding multiple devices</h3>
  <p>Verifying the NEDs available</p>
  <pre>
  basondole@netbox:~/nso/ncs-run$ ls
  logs  ncs-cdb  ncs.conf  packages  README.ncs  scripts  state  storedstate  target
  basondole@netbox:~/nso/ncs-run$ ls packages/
  cisco-ios-cli-3.8  cisco-iosxr-cli-3.5  juniper-junos-nc-3.0
  cisco-ios-cli-3.0  cisco-iosxr-cli-3.0  cisco-nx-cli-3.0
  basondole@netbox:~/nso/ncs-run$
  </pre>
  
  <p>Creating the devices</p>
  <pre>
  basondole@netbox:~/nso/ncs-run$ ncs-netsim create-device cisco-ios-cli-3.8 netsim-ios-00
  DEVICE netsim-ios-00 CREATED
  basondole@netbox:~/nso/ncs-run$ ncs-netsim add-device cisco-iosxr-cli-3.5 netsim-xr-00
  DEVICE netsim-xr-00 CREATED
  basondole@netbox:~/nso/ncs-run$ ncs-netsim add-device juniper-junos-nc-3.0 netsim-junos-00
  DEVICE netsim-junos-00 CREATED
  basondole@netbox:~/nso/ncs-run$ ls
  logs  ncs-cdb  ncs.conf  <b>netsim</b>  packages  README.ncs  scripts  state  storedstate  target
  basondole@netbox:~/nso/ncs-run$
  </pre>
  <strong>Note:</strong><br/> We initially created one device using <code>create-device</code>. The following devices were added using <code>add-device</code>
  
  Starting the devices
  <pre>
  basondole@netbox:~/nso/ncs-run$ cd netsim
  basondole@netbox:~/nso/ncs-run/netsim$ ncs-netsim start netsim-ios-00
  <b>DEVICE netsim-ios-00 OK STARTED</b>
  basondole@netbox:~/nso/ncs-run/netsim$ ncs-netsim start netsim-xr-00
  <b>DEVICE netsim-xr-00 OK STARTED</b>
  basondole@netbox:~/nso/ncs-run/netsim$ ncs-netsim start netsim-junos-00
  <b>DEVICE netsim-junos-00 OK STARTED</b>
  basondole@netbox:~/nso/ncs-run/netsim$ ncs-netsim list
  ncs-netsim list for  /home/basondole/nso/ncs-run/netsim
  
  name=netsim-ios-00 netconf=12022 snmp=11022 ipc=5010 cli=10022 dir=/home/basondole/nso/ncs-run/netsim/netsim-ios-00/netsim-ios-00
  name=netsim-xr-00 netconf=12023 snmp=11023 ipc=5011 cli=10023 dir=/home/basondole/nso/ncs-run/netsim/netsim-xr-00/netsim-xr-00
  name=netsim-junos-00 netconf=12024 snmp=11024 ipc=5012 cli=10024 dir=/home/basondole/nso/ncs-run/netsim/netsim-junos-00/netsim-junos-00
  basondole@netbox:~/nso/ncs-run/netsim$
  </pre>
  
  <p>Connecting to the devices via ssh</p>
  <pre>
  basondole@netbox:~/nso/ncs-run/netsim$ ssh admin@127.0.0.1 -p 10022
  admin@127.0.0.1's password:
  
  admin connected from 127.0.0.1 using ssh on netbox
  <b>netsim-ios-00> exit</b>
  Connection to 127.0.0.1 closed.
  basondole@netbox:~/nso/ncs-run/netsim$ ssh admin@127.0.0.1 -p 10023
  admin@127.0.0.1's password:
  
  admin connected from 127.0.0.1 using ssh on netbox
  <b>netbox# exit</b>
  Connection to 127.0.0.1 closed.
  basondole@netbox:~/nso/ncs-run/netsim$ ssh admin@127.0.0.1 -p 10024
  admin@127.0.0.1's password:
  
  admin connected from 127.0.0.1 using ssh on netbox
  <b>admin@netsim-junos-00>exit</b>
  Connection to 127.0.0.1 closed.
  basondole@netbox:~/nso/ncs-run/netsim$
  </pre>
  
  <h3 id="bulk-export-of-devices-to-the-nso">Bulk export of devices to the nso</h3>
  <p>When we have multiple emulated devices we can easily export them to the nso easing the urden of addin the devices one by one </p>
  <pre>
  basondole@netbox:~/nso/ncs-run/netsim$ ncs-netsim ncs-xml-init > devices.xml
  /home/basondole/nso/nso-5.1.0.1/bin/ncs-netsim: line 895: xsltproc: <b>command not found</b>
  /home/basondole/nso/nso-5.1.0.1/bin/ncs-netsim: line 895: xsltproc: <b>command not found</b>
  /home/basondole/nso/nso-5.1.0.1/bin/ncs-netsim: line 895: xsltproc: <b>command not found</b>
  /home/basondole/nso/nso-5.1.0.1/bin/ncs-netsim: line 895: xsltproc: <b>command not found</b>
  basondole@netbox:~/nso/ncs-run/netsim$ ls
  <b>devices.xml</b>  netsim-ios-00  netsim-junos-00  netsim-nx-00  netsim-xr-00  README.netsim
  
  basondole@netbox:~/nso/ncs-run/netsim$ ncs_load -l -m devices.xml
  ncs_load: 690: maapi_apply_trans_flags(sock, tid, 0, aflags) failed: Unsatisfied must constraint (41): \
  /ncs:devices/device{netsim-ios-00}/device-type : <b>must configure one of: snmp, cli, generic, netconf</b>
  basondole@netbox:~/nso/ncs-run/netsim$
  </pre>
  
  <p>To uderstand the error we have to check the contents of the created file <code>devices.xml</code></p>
  <pre><code>basondole@netbox:~/nso/ncs-run/netsim$ less devices.xml
  <span class="hljs-tag">&lt;<span class="hljs-name">devices</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">"http://tail-f.com/ns/ncs"</span>&gt;</span>
     <span class="hljs-tag">&lt;<span class="hljs-name">device</span>&gt;</span>
       <span class="hljs-tag">&lt;<span class="hljs-name">name</span>&gt;</span>netsim-ios-00<span class="hljs-tag">&lt;/<span class="hljs-name">name</span>&gt;</span>
       <span class="hljs-tag">&lt;<span class="hljs-name">address</span>&gt;</span>127.0.0.1<span class="hljs-tag">&lt;/<span class="hljs-name">address</span>&gt;</span>
       <span class="hljs-tag">&lt;<span class="hljs-name">port</span>&gt;</span>10022<span class="hljs-tag">&lt;/<span class="hljs-name">port</span>&gt;</span>
       <span class="hljs-tag">&lt;<span class="hljs-name">ssh</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-name">host-key</span>&gt;</span>
           <span class="hljs-tag">&lt;<span class="hljs-name">algorithm</span>&gt;</span>ssh-rsa<span class="hljs-tag">&lt;/<span class="hljs-name">algorithm</span>&gt;</span>
           <span class="hljs-tag">&lt;<span class="hljs-name">key-data</span>&gt;</span>ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQC/23... basondole@netbox<span class="hljs-tag">&lt;/<span class="hljs-name">key-data</span>&gt;</span>
         <span class="hljs-tag">&lt;/<span class="hljs-name">host-key</span>&gt;</span>
       <span class="hljs-tag">&lt;/<span class="hljs-name">ssh</span>&gt;</span>
       <span class="hljs-tag">&lt;<span class="hljs-name">state</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-name">admin-state</span>&gt;</span>unlocked<span class="hljs-tag">&lt;/<span class="hljs-name">admin-state</span>&gt;</span>
       <span class="hljs-tag">&lt;/<span class="hljs-name">state</span>&gt;</span>
       <span class="hljs-tag">&lt;<span class="hljs-name">authgroup</span>&gt;</span>default<span class="hljs-tag">&lt;/<span class="hljs-name">authgroup</span>&gt;</span>
       <span class="hljs-tag">&lt;<span class="hljs-name">device-type</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-name">cli</span>&gt;</span>
  
         <span class="hljs-tag">&lt;/<span class="hljs-name">cli</span>&gt;</span>
       <span class="hljs-tag">&lt;/<span class="hljs-name">device-type</span>&gt;</span>
     <span class="hljs-tag">&lt;/<span class="hljs-name">device</span>&gt;</span>
  </code></pre><p>We see the device-type is not defined. We therefore have to edit it manually. To get the device type you can add the device manully to the nso</p>
  <pre><code>basondole@netbox:~<span class="hljs-meta-keyword">/nso/</span>ncs-run/netsim$ ncs_cli -C
  basondole@ncs(config)<span class="hljs-meta"># show configuration | exclude no</span>
  devices device test
   address   test
   authgroup default
   device-type cli ned-id cisco-nx-cli<span class="hljs-number">-3.0</span>
   device-type cli protocol ssh
   config
   !
  !
  basondole@ncs(config)<span class="hljs-meta"># commit dry-run outformat xml</span>
  result-<span class="hljs-class">xml </span>{
      local-<span class="hljs-class">node </span>{
          data <span class="hljs-params">&lt;devices xmlns="http://tail-f.com/ns/ncs"&gt;</span>
                 <span class="hljs-params">&lt;device&gt;</span>
                   <span class="hljs-params">&lt;name&gt;</span>test<span class="hljs-params">&lt;/name&gt;</span>
                   <span class="hljs-params">&lt;address&gt;</span>test<span class="hljs-params">&lt;/address&gt;</span>
                   <span class="hljs-params">&lt;authgroup&gt;</span>default<span class="hljs-params">&lt;/authgroup&gt;</span>
                   <span class="hljs-params">&lt;device-type&gt;</span>
                     <span class="hljs-params">&lt;cli&gt;</span>
                       <span class="hljs-params">&lt;ned-id xmlns:cisco-nx-cli<span class="hljs-number">-3.0</span>="http://tail-f.com/ns/ned-id/cisco-nx-cli<span class="hljs-number">-3.0</span>"&gt;</span>cisco-nx-cli<span class="hljs-number">-3.0</span>:cisco-nx-cli<span class="hljs-number">-3.0</span><span class="hljs-params">&lt;/ned-id&gt;</span>
                       <span class="hljs-params">&lt;protocol&gt;</span>ssh<span class="hljs-params">&lt;/protocol&gt;</span>
                     <span class="hljs-params">&lt;/cli&gt;</span>
                   <span class="hljs-params">&lt;/device-type&gt;</span>
                 <span class="hljs-params">&lt;/device&gt;</span>
               <span class="hljs-params">&lt;/devices&gt;</span>
      }
  }
  basondole@ncs(config)<span class="hljs-meta"># end</span>
  Uncommitted changes found, commit them? [yes<span class="hljs-meta-keyword">/no/</span>CANCEL] no
  basondole@ncs<span class="hljs-meta"># exit</span>
  </code></pre><p>We then copy the <code>device-type</code> and paste in the corresponding section in the <code>device.xml file</code>
  which then becomes</p>
  <pre><code>basondole@netbox:~<span class="hljs-meta-keyword">/nso/</span>ncs-run/netsim$ less devices.xml
  devices xmlns=<span class="hljs-string">"http://tail-f.com/ns/ncs"</span>&gt;
     <span class="hljs-params">&lt;device&gt;</span>
       <span class="hljs-params">&lt;name&gt;</span>netsim-ios<span class="hljs-number">-00</span><span class="hljs-params">&lt;/name&gt;</span>
       <span class="hljs-params">&lt;address&gt;</span><span class="hljs-number">127.0</span><span class="hljs-number">.0</span><span class="hljs-number">.1</span><span class="hljs-params">&lt;/address&gt;</span>
       <span class="hljs-params">&lt;port&gt;</span><span class="hljs-number">10022</span><span class="hljs-params">&lt;/port&gt;</span>
       <span class="hljs-params">&lt;ssh&gt;</span>
         <span class="hljs-params">&lt;host-key&gt;</span>
           <span class="hljs-params">&lt;algorithm&gt;</span>ssh-rsa<span class="hljs-params">&lt;/algorithm&gt;</span>
           <span class="hljs-params">&lt;key-data&gt;</span>ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQC/<span class="hljs-number">23.</span>.. basondole@netbox<span class="hljs-params">&lt;/key-data&gt;</span>
         <span class="hljs-params">&lt;/host-key&gt;</span>
       <span class="hljs-params">&lt;/ssh&gt;</span>
       <span class="hljs-params">&lt;state&gt;</span>
         <span class="hljs-params">&lt;admin-state&gt;</span>unlocked<span class="hljs-params">&lt;/admin-state&gt;</span>
       <span class="hljs-params">&lt;/state&gt;</span>
       <span class="hljs-params">&lt;authgroup&gt;</span>default<span class="hljs-params">&lt;/authgroup&gt;</span>
       <span class="hljs-params">&lt;device-type&gt;</span>
         <span class="hljs-params">&lt;cli&gt;</span>
           <span class="hljs-params">&lt;ned-id xmlns:cisco-ios-cli<span class="hljs-number">-3.8</span>="http://tail-f.com/ns/ned-id/cisco-ios-cli<span class="hljs-number">-3.8</span>"&gt;</span>cisco-ios-cli<span class="hljs-number">-3.8</span>:cisco-ios-cli<span class="hljs-number">-3.8</span><span class="hljs-params">&lt;/ned-id&gt;</span>
           <span class="hljs-params">&lt;protocol&gt;</span>ssh<span class="hljs-params">&lt;/protocol&gt;</span>
         <span class="hljs-params">&lt;/cli&gt;</span>
       <span class="hljs-params">&lt;/device-type&gt;</span>
     <span class="hljs-params">&lt;/device&gt;</span>
  </code></pre><p> Loading the devices to the nso
   <pre>
  basondole@netbox:~/nso/ncs-run/netsim$ ncs_load -l -m devices.xml
  basondole@netbox:~/nso/ncs-run/netsim$ ncs_cli -C
  basondole connected from 192.168.56.1 using ssh on netbox
  basondole@ncs# show devices brief</p>
  NAME             ADDRESS        DESCRIPTION  NED ID
  netsim-ios-00    127.0.0.1      -            cisco-ios-cli-3.8
  netsim-junos-00  127.0.0.1      -            juniper-junos-nc-3.0
  netsim-nx-00     127.0.0.1      -            cisco-nx-cli-3.0
  netsim-xr-00     127.0.0.1      -            cisco-iosxr-cli-3.5
  basondole@ncs#
  </pre>
  <h4>Adding devices to a group</h4>
  <pre>
  basondole@netbox:~/nso/ncs-run/netsim$ ncs_cli -C -u admin
  
  admin connected from 192.168.56.1 using ssh on netbox
  admin@ncs# config
  admin@ncs(config)# devices device-group netsim
  admin@ncs(config-device-group-netsim)# device-name netsim-ios-00
  admin@ncs(config-device-group-netsim)# device-name netsim-xr-00
  admin@ncs(config-device-group-netsim)# device-name netsim-nx-00
  admin@ncs(config-device-group-netsim)# device-name netsim-junos-00
  admin@ncs(config-device-group-netsim)# top
  admin@ncs(config)# show configuration
  devices device-group netsim
   device-name [ netsim-ios-00 netsim-junos-00 netsim-nx-00 netsim-xr-00 ]
  !
  admin@ncs(config)# commit
  Commit complete.
  admin@ncs(config)# do show devices device-group member
  NAME    MEMBER
  ---------------------------------------------------------------------
  netsim  [ netsim-ios-00 netsim-junos-00 netsim-nx-00 netsim-xr-00 ]
  
  admin@ncs(config)# do devices device-group netsim sync-from
  sync-result {
      device netsim-ios-00
      result true
  }
  sync-result {
      device netsim-junos-00
      result true
  }
  sync-result {
      device netsim-nx-00
      result true
  }
  sync-result {
      device netsim-xr-00
      result true
  }
  admin@ncs(config)#
  </pre>

  
  <h3 >Baseconfig template</h3>
  This template will configure below parameters
  <ul>
  <li>domain name</li>
  <li>ntp server</li>
  <li>syslog server</li>
  <li>username fisi</li>
  </ul>
  <p>The template models <code>ios</code>, <code>iosxr</code>, <code>nxos</code> and <code>junos</code> syntax</p>
  <pre>
  admin@ncs(config)# show configuration
  devices template baseconf
   ned-id cisco-ios-cli-3.8
    config
     ios:ip domain name basondole.org
     ios:username fisi
      privilege 15
      secret secret fisi123
     !
     ios:logging host 10.10.1.100
     !
     ios:ntp server ip peer-list 10.10.1.100
     !
    !
   !
   ned-id cisco-iosxr-cli-3.5
    config
     cisco-ios-xr:logging host 10.10.1.100
     !
     cisco-ios-xr:domain name basondole.org
     cisco-ios-xr:ntp server server-list 10.10.1.100
     !
     cisco-ios-xr:username fisi
      privilege 15
      secret password fisi123
     !
    !
   !
   ned-id juniper-junos-nc-3.0
    config
     junos:configuration system domain-name basondole.org
     junos:configuration system login user fisi
      class super-user
      authentication plain-text-password-value fisi123
     !
     junos:configuration system syslog host 10.10.1.100
     !
     junos:configuration system ntp server 10.10.1.100
     !
    !
   !
   ned-id cisco-nx-cli-3.0
    config
     nx:username fisi
      password password fisi123
     !
     nx:ip domain-name basondole.org
     nx:ntp server 10.10.1.100
     !
     nx:logging server host 10.10.1.100
    !
   !
  !
  admin@ncs(config)# commit
  </pre>
  
  <h4>Applying the template to devices</h4>
  <pre><code>admin@ncs(config)<span class="hljs-meta"># devices device-group netsim apply-template template-name baseconf</span>
  apply-template-<span class="hljs-class">result </span>{
      device netsim-junos<span class="hljs-number">-00</span>
      result ok
  }
  apply-template-<span class="hljs-class">result </span>{
      device netsim-nx<span class="hljs-number">-00</span>
      result ok
  }
  apply-template-<span class="hljs-class">result </span>{
      device netsim-xr<span class="hljs-number">-00</span>
      result ok
  }
  admin@ncs(config)<span class="hljs-meta"># show configuration</span>
  devices device netsim-junos<span class="hljs-number">-00</span>
   config
  <span class="hljs-symbol">  junos:</span>configuration system domain-name basondole.org
  <span class="hljs-symbol">  junos:</span>configuration system login user fisi
     class super-user
     authentication plain-text-password-value fisi123
    !
  <span class="hljs-symbol">  junos:</span>configuration system syslog host <span class="hljs-number">10.10</span><span class="hljs-number">.1</span><span class="hljs-number">.100</span>
    !
  <span class="hljs-symbol">  junos:</span>configuration system ntp server <span class="hljs-number">10.10</span><span class="hljs-number">.1</span><span class="hljs-number">.100</span>
    !
   !
  !
  devices device netsim-nx<span class="hljs-number">-00</span>
   config
  <span class="hljs-symbol">  nx:</span>username fisi password fisi123
  <span class="hljs-symbol">  nx:</span>ip domain-name basondole.org
  <span class="hljs-symbol">  nx:</span>ntp server <span class="hljs-number">10.10</span><span class="hljs-number">.1</span><span class="hljs-number">.100</span>
  <span class="hljs-symbol">  nx:</span>logging server <span class="hljs-number">10.10</span><span class="hljs-number">.1</span><span class="hljs-number">.100</span>
   !
  !
  devices device netsim-xr<span class="hljs-number">-00</span>
   config
    cisco-ios-xr:logging <span class="hljs-number">10.10</span><span class="hljs-number">.1</span><span class="hljs-number">.100</span>
    cisco-ios-xr:domain name basondole.org
    cisco-ios-xr:ntp
     server <span class="hljs-number">10.10</span><span class="hljs-number">.1</span><span class="hljs-number">.100</span>
    exit
    cisco-ios-xr:username fisi
     privilege <span class="hljs-number">15</span>
    exit
   !
  !
  admin@ncs(config)<span class="hljs-meta"># commit dry-run outformat native</span>
  <span class="hljs-class">native </span>{
      <span class="hljs-class">device </span>{
          name netsim-junos<span class="hljs-number">-00</span>
          data <span class="hljs-params">&lt;rpc xmlns="urn:ietf:params:xml:ns:netconf:base:<span class="hljs-number">1.0</span>"
                    message-id="<span class="hljs-number">1</span>"&gt;</span>
                 <span class="hljs-params">&lt;edit-config xmlns:nc="urn:ietf:params:xml:ns:netconf:base:<span class="hljs-number">1.0</span>"&gt;</span>
                   <span class="hljs-params">&lt;target&gt;</span>
                     <span class="hljs-params">&lt;candidate/&gt;</span>
                   <span class="hljs-params">&lt;/target&gt;</span>
                   <span class="hljs-params">&lt;test-option&gt;</span>test-then-set<span class="hljs-params">&lt;/test-option&gt;</span>
                   <span class="hljs-params">&lt;error-option&gt;</span>rollback-on-error<span class="hljs-params">&lt;/error-option&gt;</span>
                   <span class="hljs-params">&lt;with-inactive xmlns="http://tail-f.com/ns/netconf/inactive/<span class="hljs-number">1.0</span>"/&gt;</span>
                   <span class="hljs-params">&lt;config&gt;</span>
                     <span class="hljs-params">&lt;configuration xmlns="http://xml.juniper.net/xnm/<span class="hljs-number">1.1</span>/xnm"&gt;</span>
                       <span class="hljs-params">&lt;system&gt;</span>
                         <span class="hljs-params">&lt;syslog&gt;</span>
                           <span class="hljs-params">&lt;host&gt;</span>
                             <span class="hljs-params">&lt;name&gt;</span><span class="hljs-number">10.10</span><span class="hljs-number">.1</span><span class="hljs-number">.100</span><span class="hljs-params">&lt;/name&gt;</span>
                           <span class="hljs-params">&lt;/host&gt;</span>
                         <span class="hljs-params">&lt;/syslog&gt;</span>
                         <span class="hljs-params">&lt;domain-name&gt;</span>basondole.org<span class="hljs-params">&lt;/domain-name&gt;</span>
                         <span class="hljs-params">&lt;login&gt;</span>
                           <span class="hljs-params">&lt;user&gt;</span>
                             <span class="hljs-params">&lt;name&gt;</span>fisi<span class="hljs-params">&lt;/name&gt;</span>
                             <span class="hljs-params">&lt;class&gt;</span>super-user<span class="hljs-params">&lt;/class&gt;</span>
                             <span class="hljs-params">&lt;authentication&gt;</span>
                               <span class="hljs-params">&lt;plain-text-password-value&gt;</span>fisi123<span class="hljs-params">&lt;/plain-text-password-value&gt;</span>
                             <span class="hljs-params">&lt;/authentication&gt;</span>
                           <span class="hljs-params">&lt;/user&gt;</span>
                         <span class="hljs-params">&lt;/login&gt;</span>
                         <span class="hljs-params">&lt;ntp&gt;</span>
                           <span class="hljs-params">&lt;server&gt;</span>
                             <span class="hljs-params">&lt;name&gt;</span><span class="hljs-number">10.10</span><span class="hljs-number">.1</span><span class="hljs-number">.100</span><span class="hljs-params">&lt;/name&gt;</span>
                           <span class="hljs-params">&lt;/server&gt;</span>
                         <span class="hljs-params">&lt;/ntp&gt;</span>
                       <span class="hljs-params">&lt;/system&gt;</span>
                     <span class="hljs-params">&lt;/configuration&gt;</span>
                   <span class="hljs-params">&lt;/config&gt;</span>
                 <span class="hljs-params">&lt;/edit-config&gt;</span>
               <span class="hljs-params">&lt;/rpc&gt;</span>
      }
      <span class="hljs-class">device </span>{
          name netsim-nx<span class="hljs-number">-00</span>
          data username fisi password fisi123
               ip domain-name basondole.org
               ntp server <span class="hljs-number">10.10</span><span class="hljs-number">.1</span><span class="hljs-number">.100</span>
               logging server <span class="hljs-number">10.10</span><span class="hljs-number">.1</span><span class="hljs-number">.100</span>
      }
      <span class="hljs-class">device </span>{
          name netsim-xr<span class="hljs-number">-00</span>
          data logging <span class="hljs-number">10.10</span><span class="hljs-number">.1</span><span class="hljs-number">.100</span>
               domain name basondole.org
               ntp
                server <span class="hljs-number">10.10</span><span class="hljs-number">.1</span><span class="hljs-number">.100</span>
               exit
               username fisi
                privilege <span class="hljs-number">15</span>
               exit
      }
  }
  admin@ncs(config)<span class="hljs-meta"># commit</span>
  Commit complete.
  </code></pre>

<h1 id="services">Services</h1>
<h3>Creating service for deploying radius server</h3>
<p>Creating an Yang Module using NSO Bash commands</p>
<pre><code>basondole@netbox:~<span class="hljs-meta-keyword">/nso/</span>ncs-run/packages$ ncs-make-package --service-skeleton template simple_radius --augment /ncs:services
basondole@netbox:~<span class="hljs-meta-keyword">/nso/</span>ncs-run/packages$ cd simple_radius/
basondole@netbox:~<span class="hljs-meta-keyword">/nso/</span>ncs-run<span class="hljs-meta-keyword">/packages/</span>simple_radius$ nano src<span class="hljs-meta-keyword">/yang/</span>simple_radius.yang
basondole@netbox:~<span class="hljs-meta-keyword">/nso/</span>ncs-run<span class="hljs-meta-keyword">/packages/</span>simple_radius$ cat src<span class="hljs-meta-keyword">/yang/</span>simple_radius.yang
module <span class="hljs-class">simple_radius </span>{
  namespace <span class="hljs-string">"http://com/example/simple_radius"</span>;
  prefix simple_radius;

  import ietf-inet-<span class="hljs-class">types </span>{
    prefix inet;
  }
  import tailf-<span class="hljs-class">ncs </span>{
    prefix ncs;
  }
  <span class="hljs-params">&lt;b&gt;</span>import tailf-<span class="hljs-class">common </span>{ prefix tailf; }<span class="hljs-params">&lt;/b&gt;</span>

  augment /ncs:<span class="hljs-class">services </span>{
  list <span class="hljs-class">simple_radius </span>{
<span class="hljs-symbol">    tailf:</span>info <span class="hljs-string">"deploy radius server config for iosrx nxos junos"</span>;
    key server-ip;

    uses ncs:service-data;
<span class="hljs-symbol">    ncs:</span>servicepoint <span class="hljs-string">"simple_radius"</span>;

    leaf server-<span class="hljs-class">ip </span>{
<span class="hljs-symbol">      tailf:</span>info <span class="hljs-string">"ipv4 address of the radius server"</span>;
      type inet:ipv4-address;
    }

    leaf-list <span class="hljs-class">device </span>{
<span class="hljs-symbol">      tailf:</span>info <span class="hljs-string">"device to deploy the service to"</span>;
      type <span class="hljs-class">leafref </span>{
        path <span class="hljs-string">"/ncs:devices/ncs:device/ncs:name"</span>;
      }
    }

    leaf-list <span class="hljs-class">secret </span>{
<span class="hljs-symbol">      tailf:</span>info <span class="hljs-string">"secret key"</span>;
      type string;
    }

  }
  } <span class="hljs-comment">// augment /ncs:services {</span>
}
basondole@netbox:~<span class="hljs-meta-keyword">/nso/</span>ncs-run<span class="hljs-meta-keyword">/packages/</span>simple_radius$ cd src/
basondole@netbox:~<span class="hljs-meta-keyword">/nso/</span>ncs-run<span class="hljs-meta-keyword">/packages/</span>simple_radius/src$ make
<span class="hljs-meta-keyword">/home/</span>basondole<span class="hljs-meta-keyword">/nso/</span>nso<span class="hljs-number">-5.1</span><span class="hljs-number">.0</span><span class="hljs-number">.1</span><span class="hljs-meta-keyword">/bin/</span>ncsc  `ls simple_radius-ann.yang  &gt; <span class="hljs-meta-keyword">/dev/</span>null <span class="hljs-number">2</span>&gt;<span class="hljs-variable">&amp;1</span> &amp;&amp; echo <span class="hljs-string">"-a simple_radius-ann.yang"</span>` \
              -c -o ..<span class="hljs-meta-keyword">/load-dir/</span>simple_radius.fxs yang/simple_radius.yang
basondole@netbox:~<span class="hljs-meta-keyword">/nso/</span>ncs-run<span class="hljs-meta-keyword">/packages/</span>simple_radius/src$
</code></pre><h3 id="creating-xml-template">Creating xml template</h3>
We will create device template based on the actual CLI configuration.
Below are the configuration options
<ul>
<li>server ip</li>
<li>authentication port</li>
<li>accounting port</li>
<li>key  </li>
</ul>
<p>We configure this on the NSO and then we produce the xml formatted config.</p>
<pre><code>basondole@netbox:~<span class="hljs-meta-keyword">/ncs-run/</span>packages/simple_radius/src$ ncs_cli -C
basondole@ncs<span class="hljs-meta"># config</span>
Entering configuration mode terminal
basondole@ncs(config)<span class="hljs-meta"># devices device pycon-iosxr config cisco-ios-xr:radius-server host 10.10.1.100 auth-port 1812 acct-port 1813</span>
basondole@ncs(config-radius-host)<span class="hljs-meta"># commit dry-run outformat xml</span>
result-<span class="hljs-class">xml </span>{
    local-<span class="hljs-class">node </span>{
        data <span class="hljs-params">&lt;devices xmlns="http://tail-f.com/ns/ncs"&gt;</span>
               <span class="hljs-params">&lt;device&gt;</span>
                 <span class="hljs-params">&lt;name&gt;</span>pycon-iosxr<span class="hljs-params">&lt;/name&gt;</span>
                 <span class="hljs-params">&lt;config&gt;</span>
                   <span class="hljs-params">&lt;radius-server xmlns="http://tail-f.com/ned/cisco-ios-xr"&gt;</span>
                     <span class="hljs-params">&lt;host&gt;</span>
                       <span class="hljs-params">&lt;id&gt;</span><span class="hljs-number">10.10</span><span class="hljs-number">.1</span><span class="hljs-number">.100</span><span class="hljs-params">&lt;/id&gt;</span>
                       <span class="hljs-params">&lt;auth-port&gt;</span><span class="hljs-number">1812</span><span class="hljs-params">&lt;/auth-port&gt;</span>
                       <span class="hljs-params">&lt;acct-port&gt;</span><span class="hljs-number">1813</span><span class="hljs-params">&lt;/acct-port&gt;</span>
                     <span class="hljs-params">&lt;/host&gt;</span>
                   <span class="hljs-params">&lt;/radius-server&gt;</span>
                 <span class="hljs-params">&lt;/config&gt;</span>
               <span class="hljs-params">&lt;/device&gt;</span>
             <span class="hljs-params">&lt;/devices&gt;</span>
    }
}
basondole@ncs(config-radius-host)<span class="hljs-meta"># end</span>
Uncommitted changes found, commit them? [yes<span class="hljs-meta-keyword">/no/</span>CANCEL] no
basondole@ncs<span class="hljs-meta">#basondole@ncs# exit</span>
</code></pre><p>We repeat the above procedure to get xml config for all our devices <code>ios</code>, <code>iosxr</code>, <code>nxos</code> and <code>junos</code>
then we edit the xml template by adding the xml config from above process</p>
<pre><code><span class="xml">basondole@netbox:~/nso/ncs-run/packages/simple_radius/src$ cd ../
basondole@netbox:~/nso/ncs-run/packages/simple_radius$ nano templates/simple_radius-template.xml
basondole@netbox:~/nso/ncs-run/packages/simple_radius$ cat templates/simple_radius-template.xml
<span class="hljs-tag">&lt;<span class="hljs-name">config-template</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">"http://tail-f.com/ns/config/1.0"</span>
                 <span class="hljs-attr">servicepoint</span>=<span class="hljs-string">"simple_radius"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">devices</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">"http://tail-f.com/ns/ncs"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">device</span>&gt;</span>
      <span class="hljs-comment">&lt;!--
          Select the devices from some data structure in the service
          model. In this skeleton the devices are specified in a leaf-list.
          Select all devices in that leaf-list:
      --&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">name</span>&gt;</span></span><span class="hljs-template-tag">{/<span class="hljs-name">device</span>}</span><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">name</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">config</span>&gt;</span>
        <span class="hljs-comment">&lt;!--
            Add device-specific parameters here.
        --&gt;</span>

        <span class="hljs-tag">&lt;<span class="hljs-name">radius-server</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">"http://tail-f.com/ned/cisco-nx"</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">host</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">id</span>&gt;</span></span><span class="hljs-template-tag">{/<span class="hljs-name">server-ip</span>}</span><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">id</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">key</span>&gt;</span>
              <span class="hljs-tag">&lt;<span class="hljs-name">encryption</span>&gt;</span>0<span class="hljs-tag">&lt;/<span class="hljs-name">encryption</span>&gt;</span>
              <span class="hljs-tag">&lt;<span class="hljs-name">password</span>&gt;</span></span><span class="hljs-template-tag">{/<span class="hljs-name">secret</span>}</span><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">password</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">key</span>&gt;</span>
          <span class="hljs-tag">&lt;/<span class="hljs-name">host</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">radius-server</span>&gt;</span>

        <span class="hljs-tag">&lt;<span class="hljs-name">radius-server</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">"http://tail-f.com/ned/cisco-ios-xr"</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">host</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">id</span>&gt;</span></span><span class="hljs-template-tag">{/<span class="hljs-name">server-ip</span>}</span><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">id</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">auth-port</span>&gt;</span>1812<span class="hljs-tag">&lt;/<span class="hljs-name">auth-port</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">acct-port</span>&gt;</span>1813<span class="hljs-tag">&lt;/<span class="hljs-name">acct-port</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">key</span>&gt;</span>
              <span class="hljs-tag">&lt;<span class="hljs-name">key-container</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">key</span>&gt;</span></span><span class="hljs-template-tag">{/<span class="hljs-name">secret</span>}</span><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">key</span>&gt;</span>
              <span class="hljs-tag">&lt;/<span class="hljs-name">key-container</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">key</span>&gt;</span>
          <span class="hljs-tag">&lt;/<span class="hljs-name">host</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">radius-server</span>&gt;</span>

        <span class="hljs-tag">&lt;<span class="hljs-name">configuration</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">"http://xml.juniper.net/xnm/1.1/xnm"</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">system</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">radius-server</span>&gt;</span>
              <span class="hljs-tag">&lt;<span class="hljs-name">name</span>&gt;</span></span><span class="hljs-template-tag">{/<span class="hljs-name">server-ip</span>}</span><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">name</span>&gt;</span>
              <span class="hljs-tag">&lt;<span class="hljs-name">port</span>&gt;</span>1812<span class="hljs-tag">&lt;/<span class="hljs-name">port</span>&gt;</span>
              <span class="hljs-tag">&lt;<span class="hljs-name">accounting-port</span>&gt;</span>1813<span class="hljs-tag">&lt;/<span class="hljs-name">accounting-port</span>&gt;</span>
              <span class="hljs-tag">&lt;<span class="hljs-name">secret</span>&gt;</span></span><span class="hljs-template-tag">{/<span class="hljs-name">secret</span>}</span><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">secret</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">radius-server</span>&gt;</span>
          <span class="hljs-tag">&lt;/<span class="hljs-name">system</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">configuration</span>&gt;</span>

      <span class="hljs-tag">&lt;/<span class="hljs-name">config</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">device</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">devices</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">config-template</span>&gt;</span></span>
</code></pre><p>Adding the service to nso</p>
<pre>
basondole@netbox:~/ncs-run/packages/simple_radius$ ncs_cli -C

basondole connected from 192.168.56.1 using ssh on netbox
<b>basondole@ncs# packages reload</b>

>>> System upgrade is starting.
>>> Sessions in configure mode must exit to operational mode.
>>> No configuration changes can be performed until upgrade has completed.
>>> System upgrade has completed successfully
.
.
reload-result {
    package simple_radius
    result true
}
</pre>

<p>Deploying the service on the router</p>
<pre>
admin@ncs# conf
Entering configuration mode terminal
admin@ncs(config)# services simple_radius 10.10.1.100 device netsim-junos-00 secret fisi321
admin@ncs(config-simple_radius-10.10.1.100)# exit
admin@ncs(config)# services simple_radius 10.10.1.100 device netsim-nx-00 secret fisi321
admin@ncs(config-simple_radius-10.10.1.100)# exit
admin@ncs(config)# services simple_radius 10.10.1.100 device netsim-xr-00 secret fisi321
admin@ncs(config-simple_radius-10.10.1.100)# exit
admin@ncs(config)#
admin@ncs(config)# commit dry-run
cli {
    local-node {
        data  devices {
                  device netsim-junos-00 {
                      config {
                          junos:configuration {
                              system {
             +                    # first
             +                    radius-server 10.10.1.100 {
             +                        port 1812;
             +                        accounting-port 1813;
             +                        secret fisi321;
             +                    }
                              }
                          }
                      }
                  }
                  device netsim-nx-00 {
                      config {
                          nx:radius-server {
             +                host 10.10.1.100 {
             +                    key {
             +                        encryption 0;
             +                        password fisi321;
             +                    }
             +                }
                          }
                      }
                  }
                  device netsim-xr-00 {
                      config {
                          cisco-ios-xr:radius-server {
             +                host 10.10.1.100 {
             +                    auth-port 1812;
             +                    acct-port 1813;
             +                    key {
             +                        key-container {
             +                            key fisi321;
             +                        }
             +                    }
             +                }
                          }
                      }
                  }
              }
              services {
             +    simple_radius 10.10.1.100 {
             +        device [ netsim-junos-00 netsim-nx-00 netsim-xr-00 ];
             +    }
              }
    }
}
admin@ncs(config)# commit
Commit complete.
admin@ncs(config)#
</pre>

<h2 id="verification">Verification</h2>
<pre>
basondole@netbox:~/nso/ncs-run/packages/simple_radius$ ncs_cli -u admin

admin connected from 192.168.56.1 using ssh on netbox
admin@ncs> configure
[edit]
admin@ncs% show services simple_radius | tab

SERVER IP    DEVICE                                         SECRET
-------------------------------------------------------------------------
10.10.1.100  [ netsim-junos-00 netsim-nx-00 netsim-xr-00 ]  [ fisi321 ]

[ok][2019-12-28 18:31:01]

[edit]
</pre>

<p>Switching to the <code>netsim</code> directory so as to access the emulated devices<br><code>basondole@netbox:~/nso/ncs-run/packages/simple_radius$ cd ../../netsim/</code></p>
<h4>ios xr</h4>
<pre>
basondole@netbox:~/nso/ncs-run/netsim$ ncs-netsim cli-i netsim-xr-00

admin connected from 192.168.56.1 using ssh on netbox
netbox> enable
netbox# show run
logging 10.10.1.100
domain name basondole.org
radius-server host 10.10.1.100 auth-port 1812 acct-port 1813
 key fisi321
exit
ntp
 server 10.10.1.100
exit
username fisi
 privilege 15
exit
netbox# exit
</pre>

<h4>nx os</h4>
<pre>
basondole@netbox:~/nso/ncs-run/netsim$ ncs-netsim cli-i netsim-nx-00

admin connected from 192.168.56.1 using ssh on netbox
netbox> enable
netbox# show run
no feature ssh
no feature telnet
username fisi password fisi123
ip domain-name basondole.org
!
ntp server 10.10.1.100
logging server 10.10.1.100
radius-server host 10.10.1.100 key 0 fisi321
netbox# exit
</pre>

<h4>junos</h4>
<pre>
basondole@netbox:~/nso/ncs-run/netsim$ ncs-netsim cli netsim-junos-00

admin connected from 192.168.56.1 using ssh on netbox
admin@netsim-junos-00>show configuration configuration system
host-name   netsim-junos-00;
domain-name basondole.org;
radius-server 10.10.1.100 {
    port            1812;
    accounting-port 1813;
    secret          fisi321;
}
login {
    user fisi {
        class super-user;
        authentication {
            plain-text-password-value fisi123;
        }
    }
}
syslog {
    host 10.10.1.100;
}
ntp {
    server 10.10.1.100;
}
[ok][2019-12-28 17:54:53]
admin@netsim-junos-00>exit
basondole@netbox:~/nso/ncs-run/netsim$
</pre>


<h4>Using the nso with junos-like cli to deploy service</h4>
<pre>
basondole@netbox:~/nso/ncs-run/netsim$ ncs_cli -u admin

admin connected from 192.168.56.1 using ssh on netbox
admin@ncs> configure
Entering configuration mode private
[ok][2019-12-28 18:22:15]

[edit]
admin@ncs% set services simple_radius 10.1.1.1 device pycon-iosxr secret fisi123
[ok][2019-12-28 18:23:36]

[edit]
admin@ncs% show | compare
 services {
+    simple_radius 10.1.1.1 {
+        device [ pycon-iosxr ];
+        secret [ fisi123 ];
+    }
 }
[ok][2019-12-28 18:23:42]

[edit]
admin@ncs% commit check
Validation complete
[ok][2019-12-28 18:24:01]

[edit]
admin@ncs% commit

[edit]
admin@ncs%
</pre>

<h4>Un-deploying and re-ploying service</h4>
<h5>Un-deploying the service</h5>
<pre>
basondole@netbox:~/nso/ncs-run/netsim$ ncs_cli -u admin

admin connected from 192.168.56.1 using ssh on netbox
admin@ncs> configure
Entering configuration mode private
[ok][2019-12-28 19:09:51]

[edit]
admin@ncs% edit services simple_radius 10.10.1.100
[ok][2019-12-28 19:09:56]

[edit services simple_radius 10.10.1.100]
admin@ncs% <b>request un-deploy</b>
[ok][2019-12-28 19:10:05]

[edit services simple_radius 10.10.1.100]
admin@ncs% request check-sync
<b>in-sync false</b>
[ok][2019-12-28 19:10:11]
</pre>

<h5>Re-deploying the service</h5>
<pre>
[edit services simple_radius 10.10.1.100]
admin@ncs% <b>request re-deploy</b>
[ok][2019-12-28 19:10:19]

[edit services simple_radius 10.10.1.100]
admin@ncs%
System message at 2019-12-28 19:10:19...
Commit performed by admin via ssh using cli.
admin@ncs% request check-sync
<b>in-sync true</b>
[ok][2019-12-28 19:10:22]

[edit services simple_radius 10.10.1.100]
admin@ncs%
</pre>

</div>


                      </div>
                    </div>
                    <!-- end post_info_wrapper -->
                  </div>
                  <!-- end post_body -->

                </article>

                <div class="author_info_container author_single_box">
                  <div class="row">
                    <div class="author_avatar_col col">
                      <a class="author_avatar_url" href="about"><img alt='' src='../../img/all-baggy.jpg' srcset='../../img/all-baggy.jpg' class='avatar avatar-150 photo' height='150' width='150' /></a>
                    </div>
                    <div class="author_info_col col">
                      <div class="author_box_info_header">
                        <h2 class="author_display_name title">
                          <a class="author_name_url url fn n" href="">Paul S.I. Basondole </a>
                        </h2>

                      </div>
                      <div class="author_description">
IT &amp; Network Expert / Lead <br>
Network & Automation designer; <br>
2x JNCIP (RS/SP) 1x CCNP (RS) <br>
BSc Telecommunications Eng.
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              <!-- close col12 just inside .full_width_list -->
            </div>
            <!-- close .full_width_list -->
            <!-- close col and row in case of sidebar layout -->
            <!-- end check for post layout -->
          </section>
          <!-- #primary -->
        </main>
        <!-- #content -->
        <footer id="colophon" class="site_footer container" role="contentinfo">
          <div class="footer_credits footers_active_sidebars_0">
            &copy; 2020 basondole.io
          </div>
          <div id="aliagototop" title="Scroll To Top" class="alia_gototop_button footer_button">
            <i class="fa fa-arrow-up"></i>
          </div>
        </footer>

        <!-- #colophon -->
      </div>
      <!-- .site_main_container -->
      <!-- start sliding sidebar content -->
     <!-- .site_main_container -->
      <!-- start sliding sidebar content -->
      <div class="sliding_close_helper_overlay"></div>
      <div class="site_side_container">
        <h3 class="screen-reader-text">
          Sliding Sidebar
        </h3>
        <div class="info_sidebar">
          <div class="top_header_items_holder mobile_menu_opened">
            <div class="main_menu">
              <ul id="mobile-menu" class="navbar">
                <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-318 default_menu">
                  <a href="../../index.html">Home</a>
                </li>
                <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-2788 default_menu">
                  <a href="https://github.com/basondole/mpls#introduction">Design</a>
                </li>
                <li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-2534 default_menu">
                  <a href="https://github.com/basondole/open#hocid">NET2CODE</a>
                </li>
                <li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-has-children menu-item-320 dropdown default_menu">
                  <a href="../../blog.html" data-hover="dropdown" class="dropdown-toggle">Blog</a>
                  <ul role="menu" class=" dropdown-menu">
                    <li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-424 default_menu">
                      <a href="../collaboration/index.html">Collaboration</a>
                    </li>
                    <li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-3124 default_menu">
                      <a href="../networkauto/index.html">Network Automation</a>
                    </li>
                    <li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-425 default_menu">
                      <a href="https://github.com/basondole/tutorials">Network Servers</a>
                    </li>
                    <li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-425 default_menu">
                      <a href="https://github.com/basondole/netmanagement">Misc</a>
                    </li>
                  </ul>
                </li>
                <li id="menu-item-2056" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2056 default_menu"><a href="../../bgp.html">BGP</a></li>
                <li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-413 default_menu current-menu-item current_page_item active">
                  <a href="../../about.html">About</a>
                </li>
                <li class="menu-item menu-item-type-post_type menu-item-object-page current-menu-item page_item page-item-145 current_page_item menu-item-412 default_menu active">
                  <a href="../../contact.html.html">Contact</a>
                </li>
                <!-- <li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2056 default_menu">
                  <a href="http://karneliuk.com/donate/">Donate</a> -->
                </li>
              </ul>
            </div>
          </div>
          <!-- end .top_header_items_holder -->
        </div>
      </div>
      <!-- end sliding sidebar content -->
      <!-- start footer static content -->
      <!-- start footer static content -->
    </div>
    <!-- #page -->
    <div id="ajax_modal_story" class="ajax_modal ajax_modal_story modal enable_rotate">
      <div class="story_modal_overlay_helper"></div>
    </div>


    </script>

    <script type='text/javascript' src='../../karneliuk/global.1.35.js'></script>


    <script type='text/javascript'>
/* <![CDATA[ */
var alia_core_vars = { "ajax_load_story": "http:\/\/karneliuk.com\/wp-content\/plugins\/alia-core\/ajax-load-story.php", "ajax_rotate_story": "http:\/\/karneliuk.com\/wp-content\/plugins\/alia-core\/ajax-rotate-story.php" };
/* ]]> */
    </script>


    <script type='text/javascript' src='../../karneliuk/alia-core.1.13.js'></script>
    <script type='text/javascript' src='../../karneliuk/wp-embed.min.5.3.2.js'></script>

    
    <script src="../../karneliuk/jquery-1.6.1.js"></script>
    <script src="../../karneliuk/jquery-ui-1.8.13.min.js"></script>
    <script>
      window.onload = function () {
       $("#accordion").accordion({ header: "h3", collapsible: true, active: false, autoHeight: false });
      };
    </script>

    <script type="text/javascript">
      // $("p").hide();
      // $("p").show(4000);
    </script>


  </body>
</html>
